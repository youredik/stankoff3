/**
 * Данные для seed базы знаний (Knowledge Base)
 * 57 FAQ статей для всех отделов компании Stankoff
 */

export interface SeedKnowledgeArticle {
  title: string;
  content: string;
  category: string;
  tags: string[];
  /** Ключ из SeedWorkspaces (zk, kp, sz...), 'it' для IT workspace, null для глобальных */
  workspaceKey: string | null;
  authorEmail: string;
}

// ═══════════════════════════════════════════════════════════
// ГЛОБАЛЬНЫЕ СТАТЬИ (5)
// ═══════════════════════════════════════════════════════════

const GLOBAL_ARTICLES: SeedKnowledgeArticle[] = [
  {
    title: 'Как пользоваться порталом Stankoff',
    content: `Портал Stankoff — единая система управления заявками, задачами и бизнес-процессами компании.

## Основные разделы

Навигация расположена в левой панели. Рабочие пространства сгруппированы по отделам (секциям): Продажи, Сервис, Маркетинг, Склад и логистика, Финансы, Юридический и ВЭД, Управление, IT.

## Канбан-доска

Основной вид работы с заявками. Колонки соответствуют статусам заявки. Перетаскивайте карточки между колонками для смены статуса. Используйте фильтры по приоритету, исполнителю и датам.

## Табличное представление

Альтернативный вид с сортировкой и пагинацией. Подходит для работы с большим количеством заявок.

## Поиск

Глобальный поиск (Ctrl+K) ищет по заявкам и комментариям. Результаты группируются по workspace.

## Комментарии и вложения

К каждой заявке можно оставить комментарий с форматированием (жирный, курсив, списки) и прикрепить файлы до 50 МБ.

## Уведомления

Система отправляет уведомления при назначении на заявку, новых комментариях и изменении статуса. AI-помощник также присылает проактивные уведомления о важных событиях.`,
    category: 'Портал',
    tags: ['навигация', 'канбан', 'поиск', 'начало работы'],
    workspaceKey: null,
    authorEmail: 'youredik@gmail.com',
  },
  {
    title: 'Правила обработки заявок клиентов',
    content: `Общие правила обработки входящих заявок в компании Stankoff.

## Приоритизация

- Критический: заявки свыше 10 млн ₽, аварийные ситуации с оборудованием
- Высокий: заявки свыше 5 млн ₽, лазерное оборудование свыше 1 млн ₽
- Средний: заявки от 1 до 5 млн ₽
- Низкий: остальные заявки

## SLA (сроки обработки)

- Первый ответ клиенту: 2 рабочих часа с момента создания заявки
- Подготовка КП: 1 рабочий день для стандартного оборудования, 3 дня для нестандартных конфигураций
- Ответ на рекламацию: 8 рабочих часов

## Эскалация

При нарушении SLA заявка автоматически эскалируется:
1. 80% от лимита — уведомление исполнителю
2. 100% — эскалация руководителю отдела
3. 150% — эскалация директору

## Общие правила

- Каждая заявка должна иметь назначенного исполнителя
- Не оставляйте заявку без ответа более 4 часов
- При переназначении обязательно оставьте комментарий с причиной
- VIP-клиенты (сумма сделок >50 млн ₽/год) обрабатываются в приоритетном порядке`,
    category: 'Общие правила',
    tags: ['SLA', 'приоритеты', 'эскалация', 'заявки'],
    workspaceKey: null,
    authorEmail: 'grachev@stankoff.ru',
  },
  {
    title: 'Корпоративный стандарт деловой переписки',
    content: `Стандарты коммуникации с клиентами и партнёрами компании Stankoff.

## Обращение к клиенту

Используйте имя и отчество при первом обращении. После установления контакта допустимо обращение по имени, если клиент сам предложил.

## Структура письма

1. Приветствие: «Добрый день, [Имя Отчество]!»
2. Суть: кратко изложите цель письма
3. Детали: технические характеристики, сроки, условия
4. Призыв к действию: что ожидаете от клиента
5. Подпись: ФИО, должность, контакты, логотип

## Шаблон подписи

[Имя Фамилия]
[Должность], ООО «Станкофф»
Тел.: +7 (843) XXX-XX-XX
Email: [имя]@stankoff.ru
www.stankoff.ru

## Запрещено

- Использование сленга и жаргона
- Обращение на «ты» (кроме давних партнёров по их просьбе)
- Обещание сроков без согласования с логистикой
- Обсуждение цен конкурентов в письменной форме
- Отправка конфиденциальной информации на личные почтовые ящики`,
    category: 'Общие правила',
    tags: ['переписка', 'коммуникация', 'шаблоны', 'этикет'],
    workspaceKey: null,
    authorEmail: 'anna.sidorova@stankoff.ru',
  },
  {
    title: 'Структура компании Stankoff и зоны ответственности',
    content: `ООО «Станкофф» — дистрибьютор промышленного оборудования. Основные направления: фрезерные и токарные станки с ЧПУ, оптоволоконные лазерные станки, полимерное оборудование, лесопильные и столярные станки.

## Отделы и руководители

- Администрация — Руслан Зиннуров (директор)
- Отдел продаж — Максим Грачев (фрезерные/лазерные), Сергей Русских (лесопильное)
- Сервисный отдел — Андрей Кяшкин (тех. директор), Дмитрий Мыслюк (руководитель)
- Маркетинг — Юнона Салимзянова
- Склад — Ленар Сайфутдинов
- Логистика — Артур Мингазов
- Бухгалтерия — Чулпан Самигуллина (главбух)
- Финансы — Алексей Матвеев
- Юридический — Чулпан Галлямова
- ВЭД — Ильдар Низамиев
- HR — Анна Сидорова
- Тендеры — Иван Леонтьев
- IT — Эдуард Сарваров

## Распределение по направлениям продаж

- Лазерные станки: Алексей Булыгин, Николай Васильев, Альберт Зарипов, Маргарита Якупова, Максим Никитин, Никита Серов
- Фрезерные/токарные: Максим Грачев, Олег Селезнев, Артём Третьяков, Данил Киряшин
- Полимерное: Артур Ахметзянов, Азат Гатауллин
- Столярные: Ренат Гарифьянов, Динар Фасхутдинов, Али Шарафутдинов
- Лесопильное: Сергей Русских
- Запчасти: Наталья Низамова, Равиль Камалутдинов`,
    category: 'Общие правила',
    tags: ['структура', 'отделы', 'контакты', 'руководители'],
    workspaceKey: null,
    authorEmail: 'ruslan.stankoff@gmail.com',
  },
  {
    title: 'Информационная безопасность и работа с паролями',
    content: `Правила информационной безопасности для сотрудников компании Stankoff.

## Вход в систему

Авторизация в портале через Keycloak SSO. Используйте корпоративную учётную запись. После первого входа система запомнит вашу сессию.

## Правила работы с паролями

- Минимальная длина пароля: 12 символов
- Обязательно: заглавные и строчные буквы, цифры, спецсимволы
- Смена пароля: каждые 90 дней
- Запрещено: использовать один пароль для нескольких сервисов
- Запрещено: записывать пароли на бумаге или в незашифрованных файлах

## Работа с документами

- Конфиденциальные документы отправляйте только через портал (вложения к заявкам)
- Не пересылайте рабочие файлы через личную почту или мессенджеры
- При работе с персональными данными клиентов соблюдайте ФЗ-152

## При подозрении на взлом

1. Немедленно смените пароль
2. Сообщите в IT отдел (youredik@gmail.com)
3. Не открывайте подозрительные ссылки и вложения
4. Проверьте историю входов в Keycloak

## Устройства

- Блокируйте компьютер при отходе от рабочего места (Win+L / Cmd+L)
- Не подключайте личные USB-накопители к рабочим станциям
- Обновляйте ОС и антивирус своевременно`,
    category: 'Общие правила',
    tags: ['безопасность', 'пароли', 'Keycloak', 'ИБ'],
    workspaceKey: null,
    authorEmail: 'youredik@gmail.com',
  },
];

// ═══════════════════════════════════════════════════════════
// ПРОДАЖИ — ЗАЯВКИ КЛИЕНТОВ (ZK) — 4 статьи
// ═══════════════════════════════════════════════════════════

const SALES_ZK_ARTICLES: SeedKnowledgeArticle[] = [
  {
    title: 'Алгоритм обработки входящей заявки клиента',
    content: `Пошаговый алгоритм работы с заявками в workspace «Заявки клиентов» (ZK).

## Шаг 1: Приём заявки (статус «Новая»)

При поступлении заявки она появляется в колонке «Новая» на канбан-доске. Ответственный менеджер определяется автоматически по типу оборудования или назначается руководителем.

## Шаг 2: В обработке

- Изучите запрос клиента, уточните потребности по телефону
- Заполните кастомные поля: тип оборудования, предварительная сумма, клиент
- Оставьте комментарий с результатами первичного контакта

## Шаг 3: КП подготовлено

- Подготовьте коммерческое предложение в workspace «КП» (KP)
- Прикрепите КП как вложение к заявке
- Уведомите клиента об отправке КП

## Шаг 4: Согласование → Оплата → Отгрузка

- При согласовании клиентом переведите в «Согласование»
- После получения оплаты — «Оплата»
- Координируйте с логистикой дату отгрузки — «Отгрузка»

## Шаг 5: Завершена / Отклонена

- «Завершена» — успешная сделка, заполните итоговую сумму
- «Отклонена» — обязательно укажите причину в комментарии`,
    category: 'Работа с клиентами',
    tags: ['заявки', 'алгоритм', 'канбан', 'статусы'],
    workspaceKey: 'zk',
    authorEmail: 'grachev@stankoff.ru',
  },
  {
    title: 'Типы промышленного оборудования: краткий справочник',
    content: `Справочник по основным категориям оборудования, которое поставляет Stankoff.

## Фрезерные станки с ЧПУ

Обработка металла и дерева. Модели от настольных (3-осевые) до портальных (5-осевых). Основные запросы: точность, рабочее поле, мощность шпинделя. Средний чек: 2-15 млн ₽.

## Оптоволоконные лазерные станки

Резка и гравировка металла. Мощность от 500 Вт до 12 кВт. Ключевые параметры: мощность лазера, размер рабочего поля, скорость резки, толщина обрабатываемого металла. Средний чек: 3-25 млн ₽.

## Токарные станки с ЧПУ

Обработка тел вращения. Модели с наклонной и горизонтальной станиной. Ключевые параметры: диаметр обработки, длина обработки, мощность привода. Средний чек: 3-20 млн ₽.

## Полимерное оборудование

Термопластавтоматы для литья пластика. Ключевые параметры: усилие смыкания, объём впрыска. Средний чек: 2-10 млн ₽.

## Лесопильное оборудование

Ленточнопильные и многопильные станки. Для лесопереработки и деревообработки. Средний чек: 1-8 млн ₽.

## Столярные станки

Форматно-раскроечные, кромкооблицовочные, сверлильно-присадочные станки для мебельного производства. Средний чек: 0.5-5 млн ₽.`,
    category: 'Оборудование',
    tags: ['оборудование', 'станки', 'ЧПУ', 'лазерные', 'справочник'],
    workspaceKey: 'zk',
    authorEmail: 'grachev@stankoff.ru',
  },
  {
    title: 'Работа с приоритетами заявок и SLA',
    content: `Как определяется приоритет заявки и какие SLA действуют в workspace «Заявки клиентов».

## Автоматическая классификация

AI-модуль автоматически определяет приоритет на основе DMN-таблицы:
- Сумма > 10 млн ₽ → Критический
- Сумма > 5 млн ₽ → Высокий
- Лазерное оборудование > 1 млн ₽ → Высокий
- Сумма > 1 млн ₽ → Средний
- Остальное → Низкий

Менеджер может вручную изменить приоритет с указанием причины.

## SLA по приоритетам

| Приоритет | Первый ответ | Подготовка КП | Макс. время сделки |
|-----------|-------------|---------------|-------------------|
| Критический | 30 мин | 4 часа | 14 дней |
| Высокий | 1 час | 8 часов | 21 день |
| Средний | 2 часа | 1 р.д. | 30 дней |
| Низкий | 4 часа | 2 р.д. | 45 дней |

## Эскалация

При приближении к нарушению SLA (80%) система отправляет уведомление. При нарушении (100%) заявка эскалируется руководителю. Информация о просроченных заявках видна на дашборде.`,
    category: 'Работа с клиентами',
    tags: ['SLA', 'приоритеты', 'DMN', 'эскалация'],
    workspaceKey: 'zk',
    authorEmail: 'grachev@stankoff.ru',
  },
  {
    title: 'FAQ по лазерным станкам для менеджеров',
    content: `Частые вопросы клиентов о лазерных станках и рекомендуемые ответы.

## Какую мощность лазера выбрать?

- До 3 мм нержавейка / 6 мм углеродистая сталь → 1000 Вт
- До 6 мм нержавейка / 12 мм углеродистая → 2000 Вт
- До 10 мм нержавейка / 20 мм углеродистая → 3000-4000 Вт
- Толстый металл (>20 мм) → 6000-12000 Вт

## Какой газ нужен для резки?

- Углеродистая сталь: кислород (чистый рез) или азот (без окисления)
- Нержавейка: азот (обязательно)
- Алюминий: азот
- Расход азота: 15-40 м³/час в зависимости от толщины

## Какой размер рабочего поля выбрать?

Стандартные размеры: 1500×3000 мм (наиболее популярный), 2000×4000 мм, 2000×6000 мм. Выбирайте исходя из типовых размеров листового металла клиента.

## Сколько стоит обслуживание?

Замена защитных стёкол: каждые 1-3 месяца (~5000 ₽). Замена сопла: по износу (~3000 ₽). Сервисное ТО: 1 раз в год (~50 000 ₽). Ресурс лазерного источника: 100 000+ часов.

## Какие гарантии?

Стандартная гарантия: 12 месяцев на станок, 24 месяца на лазерный источник. Расширенная гарантия: обсуждается индивидуально.`,
    category: 'Оборудование',
    tags: ['лазерные', 'FAQ', 'мощность', 'резка', 'станки'],
    workspaceKey: 'zk',
    authorEmail: 'alex@stankoff.ru',
  },
];

// ═══════════════════════════════════════════════════════════
// ПРОДАЖИ — КОММЕРЧЕСКИЕ ПРЕДЛОЖЕНИЯ (KP) — 3 статьи
// ═══════════════════════════════════════════════════════════

const SALES_KP_ARTICLES: SeedKnowledgeArticle[] = [
  {
    title: 'Шаблон коммерческого предложения',
    content: `Структура коммерческого предложения (КП) для клиентов Stankoff.

## Обязательные блоки КП

1. **Шапка** — логотип, номер КП, дата, срок действия (обычно 30 дней)
2. **Обращение** — персональное обращение к ЛПР
3. **Описание оборудования** — модель, основные характеристики, фото
4. **Технические характеристики** — таблица с параметрами
5. **Комплектация** — базовая + опции
6. **Стоимость** — цена с НДС, условия оплаты
7. **Сроки поставки** — от склада или под заказ
8. **Гарантия и сервис** — условия гарантии, сервисная поддержка
9. **Контакты менеджера** — ФИО, телефон, email

## Правила оформления

- Формат: PDF, фирменный бланк
- Язык: русский (для ВЭД — с переводом на английский)
- Цены: в рублях с НДС (для импорта указывать курс)
- Срок действия: указывать всегда (стандарт 30 календарных дней)
- Прикреплять: к заявке в workspace KP + отправить клиенту на email`,
    category: 'Коммерческие предложения',
    tags: ['КП', 'шаблон', 'структура', 'оформление'],
    workspaceKey: 'kp',
    authorEmail: 'grachev@stankoff.ru',
  },
  {
    title: 'Правила ценообразования и скидочная политика',
    content: `Политика ценообразования компании Stankoff.

## Базовое ценообразование

- Импортное оборудование: закупочная цена × наценка (зависит от категории)
- Наценка устанавливается руководством и пересматривается ежеквартально
- Курс валюты фиксируется на дату КП + запас 3%

## Скидки

| Условие | Максимальная скидка | Согласование |
|---------|-------------------|-------------|
| Повторный клиент | 5% | Менеджер |
| Комплексная поставка (3+ ед.) | 7% | Руководитель отдела |
| Стратегический клиент | 10% | Директор |
| Предоплата 100% | 3% доп. | Менеджер |

## Запреты

- Скидка более 10% — только с письменного согласия директора
- Не давать скидку «просто так» — всегда привязывать к условию
- Не обсуждать маржинальность с клиентом

## Особые случаи

- Тендерные цены: согласовываются отдельно с тендерным отделом
- Дилерские цены: по дилерскому соглашению
- Акционные предложения: по согласованию с маркетингом`,
    category: 'Коммерческие предложения',
    tags: ['цены', 'скидки', 'наценка', 'политика'],
    workspaceKey: 'kp',
    authorEmail: 'stankoff@mail.ru',
  },
  {
    title: 'Процесс согласования коммерческого предложения',
    content: `Как провести КП через внутреннее согласование.

## Этапы согласования

1. **Черновик** — менеджер готовит КП, заполняет все поля
2. **На рассмотрении** — руководитель отдела проверяет цены, условия, комплектацию
3. **Одобрено** — КП прошло внутреннюю проверку
4. **Отправлено клиенту** — КП отправлено, ожидаем ответ

## Когда нужно согласование руководителя

- Сумма КП превышает 5 млн ₽
- Применяется нестандартная скидка (>5%)
- Нетиповая комплектация или условия поставки
- Срок поставки более 90 дней
- Нестандартные условия оплаты (рассрочка, лизинг)

## Сроки согласования

- Стандартное КП: 1 рабочий день
- КП с нестандартными условиями: 2 рабочих дня
- КП на сумму >10 млн ₽: до 3 рабочих дней (требует согласования директора)

## Действия после отправки

- Через 2 рабочих дня — позвонить клиенту для обратной связи
- Через 5 дней — повторный контакт если нет ответа
- Через 14 дней — перевести в «Проиграно» если клиент отказался или не отвечает`,
    category: 'Коммерческие предложения',
    tags: ['согласование', 'процесс', 'утверждение', 'КП'],
    workspaceKey: 'kp',
    authorEmail: 'grachev@stankoff.ru',
  },
];

// ═══════════════════════════════════════════════════════════
// СЕРВИС — СЕРВИСНЫЕ ЗАЯВКИ (SZ) — 4 статьи
// ═══════════════════════════════════════════════════════════

const SERVICE_SZ_ARTICLES: SeedKnowledgeArticle[] = [
  {
    title: 'Регламент приёмки оборудования на сервис',
    content: `Порядок приёмки оборудования клиента для сервисного обслуживания.

## Чек-лист приёмки

1. Проверить комплектность (согласно описи от клиента)
2. Провести внешний осмотр — зафиксировать повреждения
3. Сделать фотографии оборудования (общий вид + повреждения)
4. Записать серийный номер и модель
5. Получить описание неисправности от клиента
6. Подписать акт приёмки в 2 экземплярах

## Создание заявки в портале

- Workspace: «Сервисные заявки» (SZ)
- Заполнить поля: оборудование, серийный номер, клиент
- Прикрепить фотографии как вложения
- Описание неисправности — в поле «Описание»
- Статус: «Новая» → «Диагностика»

## Сроки

- Акт приёмки: в день получения оборудования
- Создание заявки в портале: в течение 2 часов
- Начало диагностики: не позднее следующего рабочего дня

## Особые случаи

- Гарантийное оборудование: обязательно проверить гарантийный талон и дату покупки
- Оборудование с повреждениями при транспортировке: фиксировать акт с транспортной компанией`,
    category: 'Диагностика',
    tags: ['приёмка', 'чек-лист', 'сервис', 'акт'],
    workspaceKey: 'sz',
    authorEmail: 'andrey@stankoff.ru',
  },
  {
    title: 'Диагностика неисправностей фрезерных станков с ЧПУ',
    content: `Основные неисправности фрезерных станков и алгоритм диагностики.

## Частые неисправности

1. **Потеря точности позиционирования** — износ ШВП, люфт в направляющих, сбой энкодера
2. **Вибрация шпинделя** — износ подшипников, дисбаланс инструмента, ослабление крепления
3. **Ошибки системы ЧПУ** — сбой контроллера, повреждение кабелей, помехи
4. **Проблемы с охлаждением** — утечка СОЖ, засор фильтров, неисправность насоса
5. **Отказ автоматической смены инструмента** — датчики, пневматика, механический износ

## Алгоритм диагностики

1. Опросить оператора о симптомах
2. Проверить коды ошибок на пульте ЧПУ
3. Визуальный осмотр механических узлов
4. Проверка электрических соединений
5. Тестовый прогон программы
6. Измерение точности (индикатор, лазерный интерферометр)

## Документирование

- Все выявленные неисправности записывать в комментарии к заявке
- Прикреплять фото и видео дефектов
- После диагностики: перевести заявку в «В ремонте» или «Ожидание запчастей»`,
    category: 'Диагностика',
    tags: ['фрезерные', 'ЧПУ', 'неисправности', 'диагностика'],
    workspaceKey: 'sz',
    authorEmail: 'dmitriy.myslyuk@stankoff.ru',
  },
  {
    title: 'Процедура заказа запасных частей',
    content: `Как заказать запасные части для сервисного ремонта.

## Определение запчасти

1. Найти каталожный номер в документации к станку
2. Если номер неизвестен — сфотографировать деталь и отправить поставщику
3. Для китайского оборудования: использовать WeChat для связи с заводом-изготовителем

## Оформление заказа

1. Создать заявку или комментарий с описанием нужной запчасти
2. Указать: наименование, каталожный номер, количество, срочность
3. Согласовать стоимость с клиентом (если не гарантия)
4. Согласовать заказ с руководителем (если сумма > 50 000 ₽)

## Сроки поставки

| Источник | Срок |
|----------|------|
| Склад Stankoff | 1-2 рабочих дня |
| Склад поставщика в России | 3-7 рабочих дней |
| Заказ из Китая (авиа) | 2-3 недели |
| Заказ из Китая (море) | 6-8 недель |
| Заказ из Европы | 3-6 недель |

## Склад запчастей

Наиболее востребованные запчасти хранятся на складе: подшипники шпинделей, ШВП, направляющие, датчики, кабели, расходники для лазеров (линзы, сопла, защитные стёкла).`,
    category: 'Запчасти',
    tags: ['запчасти', 'заказ', 'сроки', 'склад'],
    workspaceKey: 'sz',
    authorEmail: 'amir@stankoff.ru',
  },
  {
    title: 'Типовые SLA по сервисным заявкам',
    content: `Сроки выполнения сервисных работ в зависимости от типа и сложности.

## SLA по типам работ

| Тип работы | Время реакции | Время решения |
|-----------|--------------|---------------|
| Гарантийный ремонт | 1 час | 24 часа |
| Диагностика | 1 час | 8 часов |
| Текущий ремонт | 2 часа | 3 р.д. |
| Капитальный ремонт | 4 часа | по согласованию |
| Пусконаладка нового оборудования | 2 часа | 2 р.д. |
| Выездной сервис | 4 часа | по согласованию |

## Маршрутизация по DMN

Система автоматически определяет сервисную бригаду:
- Критическая серьёзность → специализированная бригада, SLA 4 часа
- Лазерное оборудование → лазерная бригада, SLA 8 часов
- Фрезерное оборудование → фрезерная бригада, SLA 12 часов
- Остальное → общая бригада, SLA 24 часа

## Рабочее время

Стандартное рабочее время для SLA: Пн-Сб 08:00-20:00 (МСК). Воскресенье — нерабочий день. Для VIP-клиентов возможен выезд в выходные по согласованию.

## Эскалация

80% от лимита → уведомление инженеру. 100% → руководителю сервиса. 150% → техническому директору.`,
    category: 'Диагностика',
    tags: ['SLA', 'сроки', 'сервис', 'маршрутизация'],
    workspaceKey: 'sz',
    authorEmail: 'andrey@stankoff.ru',
  },
];

// ═══════════════════════════════════════════════════════════
// СЕРВИС — РЕКЛАМАЦИИ (REK) — 3 статьи
// ═══════════════════════════════════════════════════════════

const SERVICE_REK_ARTICLES: SeedKnowledgeArticle[] = [
  {
    title: 'Процедура обработки рекламации',
    content: `Порядок работы с рекламациями в workspace «Рекламации» (REK).

## Этапы обработки

1. **Получена** — рекламация зарегистрирована, назначен ответственный
2. **Расследование** — выяснение причин, сбор доказательств
3. **Решение** — определение способа урегулирования
4. **Исполнение** — выполнение решения (ремонт, замена, компенсация)
5. **Закрыта** — клиент подтвердил решение, акт закрытия подписан

## При получении рекламации

- Зарегистрировать в портале в течение 1 часа
- Заполнить: клиент, номер заказа, описание проблемы, серьёзность
- Уведомить клиента о принятии рекламации
- Первичный ответ — в течение 8 рабочих часов

## Расследование

- Запросить у клиента: фото/видео дефекта, условия эксплуатации
- Проверить: гарантийные условия, историю сервиса
- Привлечь сервисного инженера для технической экспертизы
- Задокументировать всё в комментариях к заявке

## Решение

Варианты: бесплатный ремонт (гарантия), платный ремонт, замена оборудования/узла, компенсация, возврат. Решение согласовывается с руководителем.`,
    category: 'Рекламации',
    tags: ['рекламации', 'процедура', 'расследование', 'решение'],
    workspaceKey: 'rek',
    authorEmail: 'anastasia.karyukhina@stankoff.ru',
  },
  {
    title: 'Классификация рекламаций по серьёзности',
    content: `Критерии определения серьёзности рекламации.

## Minor (незначительная)

- Косметические дефекты (царапины, неровности покраски)
- Отсутствие мелких комплектующих
- Незначительные отклонения от спецификации
- Срок решения: 5 рабочих дней

## Major (существенная)

- Оборудование работает с ограничениями
- Снижение точности/производительности
- Выход из строя неосновного узла
- Несоответствие заявленным характеристикам
- Срок решения: 3 рабочих дня

## Critical (критическая)

- Оборудование полностью неработоспособно
- Угроза безопасности оператора
- Повторный отказ после ремонта
- Простой производства клиента
- Срок решения: 1 рабочий день, немедленная эскалация тех. директору

## Примеры из практики

- Лазерный станок: потеря мощности на 30% через 2 месяца → Major
- Фрезерный станок: вибрация шпинделя с первого дня → Critical
- ТПА: царапина на кожухе при доставке → Minor
- Станок не включается после пусконаладки → Critical`,
    category: 'Рекламации',
    tags: ['серьёзность', 'классификация', 'minor', 'major', 'critical'],
    workspaceKey: 'rek',
    authorEmail: 'andrey@stankoff.ru',
  },
  {
    title: 'Шаблоны ответов клиентам по рекламациям',
    content: `Готовые шаблоны для коммуникации с клиентами при обработке рекламаций.

## Подтверждение получения

«Добрый день, [Имя Отчество]! Ваша рекламация №[номер] принята в работу. Ответственный специалист — [ФИО]. Мы проведём расследование и свяжемся с вами в течение [срок] для предоставления результатов. Благодарим за обратную связь.»

## Запрос дополнительной информации

«Добрый день, [Имя Отчество]! Для расследования рекламации №[номер] нам необходима дополнительная информация: [список]. Просим предоставить указанные данные для скорейшего решения вопроса.»

## Промежуточный статус

«Добрый день, [Имя Отчество]! Информируем вас о ходе работы по рекламации №[номер]. На данный момент: [статус]. Ожидаемый срок решения: [дата]. При возникновении вопросов обращайтесь к вашему менеджеру.»

## Предложение решения

«Добрый день, [Имя Отчество]! По результатам расследования рекламации №[номер] мы предлагаем следующее решение: [описание]. Просим подтвердить ваше согласие для начала работ.»

## Закрытие рекламации

«Добрый день, [Имя Отчество]! Рекламация №[номер] закрыта. Выполненные работы: [описание]. Просим подтвердить, что вопрос решён. Приносим извинения за доставленные неудобства.»`,
    category: 'Рекламации',
    tags: ['шаблоны', 'ответы', 'коммуникация', 'клиенты'],
    workspaceKey: 'rek',
    authorEmail: 'oksana.shigabutdinova@stankoff.ru',
  },
];

// ═══════════════════════════════════════════════════════════
// МАРКЕТИНГ — МАРКЕТИНГОВЫЕ ЗАДАЧИ (MK) — 3 статьи
// ═══════════════════════════════════════════════════════════

const MARKETING_MK_ARTICLES: SeedKnowledgeArticle[] = [
  {
    title: 'Бренд-бук компании Stankoff',
    content: `Фирменный стиль и правила использования бренда Stankoff.

## Логотип

- Основной: горизонтальный логотип Stankoff на белом фоне
- Запрещено: менять пропорции, цвета, добавлять эффекты
- Минимальный размер: 120px по ширине (цифровой), 30mm (печать)
- Охранное поле: высота буквы «S» со всех сторон

## Фирменные цвета

- Основной: бирюзовый (#0D9488) — акценты, кнопки, ссылки
- Тёмный: (#1E293B) — заголовки, текст
- Светлый фон: (#F8FAFC) — подложки
- Белый: (#FFFFFF) — основной фон
- Акцент: (#F59E0B) — предупреждения, промо

## Шрифты

- Заголовки: Inter Bold
- Основной текст: Inter Regular, 14-16px
- Техническая документация: допускается использование моноширинного шрифта

## Использование в материалах

- Все презентации: фирменный шаблон PowerPoint
- Коммерческие предложения: фирменный бланк
- Визитки: единый стандарт, заказ через маркетинг
- Сувенирная продукция: согласование макета с маркетингом`,
    category: 'Контент',
    tags: ['бренд', 'логотип', 'цвета', 'фирменный стиль'],
    workspaceKey: 'mk',
    authorEmail: 'yunona.salimzyanova@yandex.ru',
  },
  {
    title: 'Подготовка к участию в выставке',
    content: `Чек-лист подготовки к выставкам промышленного оборудования.

## За 3 месяца до выставки

- Определить бюджет и согласовать с директором
- Забронировать площадь стенда (минимум 12 м²)
- Определить список экспонатов (согласовать с продажами)
- Заказать стендовое оборудование (мебель, экраны, освещение)

## За 1 месяц

- Подготовить рекламные материалы: буклеты, каталоги, визитки
- Организовать доставку оборудования на выставку
- Подготовить демонстрационные программы для станков
- Назначить команду на стенд (минимум 3 человека)
- Подготовить промо-материалы (сувениры, ручки, блокноты)

## За 1 неделю

- Подтвердить логистику и монтаж
- Провести брифинг для команды стенда
- Подготовить лид-формы для сбора контактов
- Проверить работоспособность оборудования

## Во время выставки

- Вести учёт всех контактов в портале (создавать заявки)
- Фото/видео со стенда для соцсетей
- Ежедневный отчёт руководству

## После выставки

- Обработать все лиды в течение 3 рабочих дней
- Подготовить отчёт: количество контактов, потенциальные сделки, расходы
- Отправить follow-up письма всем посетителям стенда`,
    category: 'Выставки',
    tags: ['выставки', 'чек-лист', 'стенд', 'подготовка'],
    workspaceKey: 'mk',
    authorEmail: 'yunona.salimzyanova@yandex.ru',
  },
  {
    title: 'Правила публикации контента на сайт',
    content: `Требования к контенту для публикации на stankoff.ru.

## Требования к тексту

- Уникальность: минимум 90% по text.ru
- Объём: карточка товара — 500+ слов, статья — 1500+ слов
- Структура: заголовок H1, подзаголовки H2/H3, списки, таблицы
- Без воды: конкретные характеристики, цифры, факты

## SEO-оптимизация

- Title: до 70 символов, включить ключевое слово
- Description: до 160 символов, призыв к действию
- Ключевые слова: 2-3 на страницу, плотность 1-2%
- Alt-теги для всех изображений

## Изображения

- Формат: JPEG для фото, PNG для схем
- Размер: максимум 500 КБ, минимум 800px по ширине
- Обязательно: фото реального оборудования (не 3D-рендеры)
- Водяной знак Stankoff на всех фото товаров

## Процесс публикации

1. Автор создаёт материал → задача в workspace MK
2. Редактор проверяет текст и SEO
3. Маркетолог загружает на сайт
4. Проверка на сайте → публикация`,
    category: 'Контент',
    tags: ['сайт', 'публикация', 'SEO', 'контент'],
    workspaceKey: 'mk',
    authorEmail: 'lubov.mironova@stankoff.ru',
  },
];

// ═══════════════════════════════════════════════════════════
// МАРКЕТИНГ — КОНТЕНТ-ПЛАН (KN) — 3 статьи
// ═══════════════════════════════════════════════════════════

const MARKETING_KN_ARTICLES: SeedKnowledgeArticle[] = [
  {
    title: 'Руководство по написанию технических статей',
    content: `Как писать технические статьи для блога и сайта Stankoff.

## Структура статьи

1. **Заголовок** — информативный, содержит ключевое слово (например: «Как выбрать лазерный станок для резки металла»)
2. **Введение** — проблема/вопрос читателя, что он узнает из статьи
3. **Основная часть** — разделы с подзаголовками H2, таблицы сравнений, технические данные
4. **Заключение** — итоги, рекомендация, призыв к действию
5. **CTA** — «Получить консультацию» или «Запросить КП»

## Тон и стиль

- Экспертный, но понятный неспециалисту
- Без канцелярита и маркетинговых штампов
- Конкретные цифры вместо «высокая производительность»
- Сравнительные таблицы для выбора оборудования

## Источники информации

- Технические паспорта оборудования (запросить у сервисного отдела)
- Каталоги производителей
- Опыт сервисных инженеров (интервью)
- Кейсы клиентов (с их разрешения)

## Объём и периодичность

- 1 техническая статья в неделю
- Минимум 1500 слов
- Обязательно: 3-5 изображений или схем`,
    category: 'Контент',
    tags: ['статьи', 'блог', 'техническое', 'руководство'],
    workspaceKey: 'kn',
    authorEmail: 'lubov.mironova@stankoff.ru',
  },
  {
    title: 'Работа с YouTube-каналом компании',
    content: `Правила создания и публикации видеоконтента для YouTube-канала Stankoff.

## Типы видео

- Обзор оборудования (3-5 мин): демонстрация работы, характеристики
- Пусконаладка у клиента (5-10 мин): реальный кейс
- Обучающее видео (10-15 мин): настройка, обслуживание
- Shorts (до 60 сек): интересный момент работы станка

## Съёмка

- Камера: минимум 1080p, предпочтительно 4K
- Звук: внешний микрофон обязателен
- Освещение: достаточное для демонстрации деталей
- Фон: чистый, без постороннего хлама

## Монтаж

- Интро с логотипом (3 сек)
- Заставка канала
- Субтитры для ключевых характеристик
- Outro с призывом подписаться и CTA

## Публикация

- Заголовок: SEO-оптимизированный, до 60 символов
- Описание: ссылки на сайт, контакты, таймкоды
- Теги: 10-15 релевантных
- Превью: яркое, читаемый текст
- Периодичность: минимум 2 видео в месяц`,
    category: 'Контент',
    tags: ['YouTube', 'видео', 'съёмка', 'монтаж'],
    workspaceKey: 'kn',
    authorEmail: 'yunona.salimzyanova@yandex.ru',
  },
  {
    title: 'Работа с email-рассылками',
    content: `Правила создания email-рассылок для клиентов Stankoff.

## Типы рассылок

- **Новинки** — новое оборудование в каталоге (1 раз в месяц)
- **Акции** — спецпредложения и скидки (по мере появления)
- **Экспертные** — технические статьи, кейсы (2 раза в месяц)
- **Событийные** — приглашения на выставки (за 2 недели до события)

## Правила оформления

- Тема письма: до 50 символов, без CAPS LOCK и множества восклицательных знаков
- Прехедер: дополняет тему, до 100 символов
- Фирменный шаблон с логотипом и цветами Stankoff
- Кнопка CTA: контрастный цвет, понятный текст
- Обязательно: ссылка на отписку

## Сегментация

- По типу оборудования (лазерные, фрезерные, полимерные и т.д.)
- По статусу (потенциальный клиент, текущий, повторный)
- По региону

## Метрики

- Open rate: целевой показатель >20%
- Click rate: целевой показатель >3%
- Unsubscribe rate: не более 0.5% на рассылку
- Анализ метрик: после каждой рассылки, отчёт в задаче`,
    category: 'Контент',
    tags: ['email', 'рассылки', 'маркетинг', 'сегментация'],
    workspaceKey: 'kn',
    authorEmail: 'yunona.salimzyanova@yandex.ru',
  },
];

// ═══════════════════════════════════════════════════════════
// СКЛАД — СКЛАДСКИЕ ОПЕРАЦИИ (SK) — 3 статьи
// ═══════════════════════════════════════════════════════════

const WAREHOUSE_SK_ARTICLES: SeedKnowledgeArticle[] = [
  {
    title: 'Регламент приёмки товара на склад',
    content: `Порядок приёмки товара на склад Stankoff.

## Этапы приёмки

1. **Разгрузка** — проверить целостность упаковки, зафиксировать повреждения
2. **Пересчёт** — сверить количество мест с накладной
3. **Вскрытие** — проверить комплектность по упаковочному листу
4. **Маркировка** — нанести внутреннюю маркировку Stankoff (QR-код)
5. **Размещение** — разместить в назначенной зоне хранения
6. **Оприходование** — оформить приходную накладную, создать запись в портале

## При обнаружении повреждений

- Сфотографировать повреждения (упаковка + содержимое)
- Составить акт о повреждении при транспортировке в присутствии водителя
- Уведомить менеджера по логистике
- Создать заявку в портале (workspace SK, статус «Новая»)

## Документы

- ТТН (товарно-транспортная накладная) — обязательно
- Упаковочный лист — для импортного оборудования
- Сертификаты и паспорта — передать менеджеру по продажам

## Крупногабаритное оборудование

Станки массой более 500 кг — разгрузка только краном или погрузчиком. Обязательно присутствие 2 сотрудников склада.`,
    category: 'Складские операции',
    tags: ['приёмка', 'склад', 'маркировка', 'разгрузка'],
    workspaceKey: 'sk',
    authorEmail: 'lenar@stankoff.ru',
  },
  {
    title: 'Процедура инвентаризации',
    content: `Порядок проведения инвентаризации на складе Stankoff.

## Периодичность

- Полная инвентаризация: 1 раз в год (декабрь)
- Выборочная инвентаризация: ежеквартально (10% номенклатуры)
- Внеплановая: при смене материально-ответственного лица, при обнаружении недостач

## Подготовка

1. Приказ директора о проведении инвентаризации
2. Назначение комиссии (минимум 3 человека)
3. Остановка приёмки/отгрузки на время пересчёта
4. Распечатка инвентаризационных описей

## Проведение

1. Физический пересчёт всех позиций в зоне ответственности
2. Сверка серийных номеров оборудования
3. Оценка состояния (годное, повреждённое, брак)
4. Заполнение инвентаризационной описи

## Оформление расхождений

- Излишки: оприходовать, выяснить источник
- Недостачи до 10 000 ₽: списание по акту
- Недостачи более 10 000 ₽: служебное расследование
- Все расхождения фиксировать в портале (workspace SK)`,
    category: 'Складские операции',
    tags: ['инвентаризация', 'пересчёт', 'учёт', 'склад'],
    workspaceKey: 'sk',
    authorEmail: 'lenar@stankoff.ru',
  },
  {
    title: 'Правила хранения промышленного оборудования',
    content: `Условия хранения промышленного оборудования на складе.

## Общие требования

- Температура: от +5°C до +40°C
- Влажность: не более 80% (без конденсата)
- Защита от прямых солнечных лучей
- Защита от пыли (заводская упаковка или укрытие)

## Зонирование склада

- Зона A: крупногабаритное оборудование (станки) — первый этаж, ворота для погрузчика
- Зона B: средне габаритное (комплектующие, узлы) — стеллажное хранение
- Зона C: мелкие запчасти и расходники — полочное хранение с QR-маркировкой
- Зона D: гарантийный ремонт — отдельная маркированная зона

## Особые условия

- Электроника (контроллеры ЧПУ, серводрайверы): антистатическая упаковка, влажность <60%
- Оптика (линзы для лазеров): герметичная упаковка, без пыли
- Масла и СОЖ: отдельное место, пожаробезопасное хранение
- Аккумуляторы: при температуре 15-25°C, вертикально

## Периодический осмотр

Раз в месяц — осмотр оборудования в длительном хранении (>3 месяцев): проверка целостности упаковки, отсутствие коррозии, работа консервации.`,
    category: 'Складские операции',
    tags: ['хранение', 'температура', 'зонирование', 'условия'],
    workspaceKey: 'sk',
    authorEmail: 'lenar@stankoff.ru',
  },
];

// ═══════════════════════════════════════════════════════════
// ЛОГИСТИКА — ДОСТАВКИ (DV) — 3 статьи
// ═══════════════════════════════════════════════════════════

const LOGISTICS_DV_ARTICLES: SeedKnowledgeArticle[] = [
  {
    title: 'Организация доставки крупногабаритного оборудования',
    content: `Порядок организации доставки станков и крупногабаритного оборудования клиентам.

## Подготовка к отгрузке

1. Согласовать с клиентом дату и условия приёмки (наличие крана/погрузчика)
2. Определить габариты и массу груза
3. Выбрать транспортную компанию (по маршруту и габаритам)
4. Оформить страховку груза (обязательно для оборудования >1 млн ₽)

## Упаковка

- Деревянная обрешётка для станков (обязательно)
- Антикоррозийная обработка открытых металлических поверхностей
- Фиксация подвижных частей (шпиндель, каретки)
- Маркировка: «Верх», «Не кантовать», хрупкий груз

## Транспортные компании

| Тип доставки | Компании | Срок (Москва) | Срок (регионы) |
|-------------|---------|---------------|----------------|
| Сборный груз | Деловые линии, ПЭК | 3-5 дней | 5-10 дней |
| Отдельная машина | ПЭК, Байкал-сервис | 2-3 дня | 4-7 дней |
| Негабарит | Спецтранс | По согласованию | По согласованию |

## Документы для отгрузки

- ТОРГ-12 (товарная накладная) — 2 экземпляра
- ТТН (товарно-транспортная накладная)
- Счёт-фактура
- Паспорт оборудования
- Сертификаты (если применимо)`,
    category: 'Доставка',
    tags: ['доставка', 'крупногабарит', 'транспорт', 'отгрузка'],
    workspaceKey: 'dv',
    authorEmail: 'ma@stankoff.ru',
  },
  {
    title: 'Порядок действий при задержке доставки',
    content: `Алгоритм действий при задержке доставки оборудования клиенту.

## Немедленные действия

1. Связаться с транспортной компанией — уточнить причину задержки и новый срок
2. Уведомить клиента — сообщить о задержке, причине и новом ожидаемом сроке
3. Зафиксировать в портале — обновить заявку в workspace DV, добавить комментарий

## Классификация задержек

- **1-2 дня**: информирование клиента, мониторинг
- **3-5 дней**: эскалация руководителю логистики, претензия ТК
- **Более 5 дней**: эскалация директору, рассмотрение альтернативной доставки

## Компенсация клиенту

- Задержка по вине ТК: претензия к транспортной компании
- Задержка по вине Stankoff (нет на складе): скидка на доставку или бесплатная доставка
- В особых случаях: согласование компенсации с руководителем

## Профилактика

- Отслеживать все отгрузки через личный кабинет ТК
- Создавать заявку в портале для каждой доставки
- Информировать клиента о номере для отслеживания
- За 1 день до плановой доставки — подтвердить готовность клиента к приёмке`,
    category: 'Доставка',
    tags: ['задержка', 'претензия', 'транспортная компания', 'мониторинг'],
    workspaceKey: 'dv',
    authorEmail: 'ma@stankoff.ru',
  },
  {
    title: 'Документальное оформление отгрузки',
    content: `Полный перечень документов при отгрузке товара со склада Stankoff.

## Обязательные документы

| Документ | Назначение | Экземпляры |
|---------|-----------|-----------|
| ТОРГ-12 | Товарная накладная для бухгалтерии | 2 (продавец + покупатель) |
| ТТН | Транспортная накладная для перевозчика | 3 (отправитель + перевозчик + получатель) |
| Счёт-фактура | Для вычета НДС | 1 (покупателю) |
| УПД | Универсальный передаточный документ (вместо ТОРГ-12 + СФ) | 2 |

## Дополнительные документы

- Паспорт оборудования — передаётся клиенту
- Сертификат соответствия (если есть)
- Гарантийный талон
- Инструкция по эксплуатации
- Акт приёма-передачи (для дорогого оборудования >5 млн ₽)

## Для международных поставок (CMR)

- CMR (международная накладная)
- Invoice (инвойс)
- Packing list (упаковочный лист)
- Сертификат происхождения

## Порядок оформления

1. Менеджер создаёт заявку на отгрузку в портале (DV)
2. Бухгалтерия готовит ТОРГ-12 / УПД + счёт-фактуру
3. Склад готовит ТТН + комплектует документы с оборудованием
4. Логист передаёт документы водителю ТК
5. Сканы подписанных документов прикрепляются к заявке в портале`,
    category: 'Доставка',
    tags: ['документы', 'ТОРГ-12', 'ТТН', 'отгрузка', 'УПД'],
    workspaceKey: 'dv',
    authorEmail: 'ma@stankoff.ru',
  },
];

// ═══════════════════════════════════════════════════════════
// ФИНАНСЫ — ФИНАНСОВЫЕ ДОКУМЕНТЫ (FD) — 3 статьи
// ═══════════════════════════════════════════════════════════

const FINANCE_FD_ARTICLES: SeedKnowledgeArticle[] = [
  {
    title: 'Порядок согласования финансовых документов',
    content: `Маршрут согласования финансовых документов в компании Stankoff.

## Маршрут согласования

1. **Инициатор** создаёт заявку в workspace FD
2. **Бухгалтерия** проверяет реквизиты, суммы, НДС
3. **Финансовый директор** — при сумме >500 000 ₽
4. **Генеральный директор** — при сумме >5 000 000 ₽
5. **Оплата** — после всех согласований

## SLA согласования

Финансовый документ должен быть согласован в течение 4 рабочих часов. При нарушении — автоматическая эскалация.

## Типы документов

- Входящие счета на оплату
- Акты выполненных работ
- Счета-фактуры
- Договоры (финансовая часть)
- Авансовые отчёты

## Правила

- Все платежи — только на основании оригиналов документов (или скан-копий с последующим предоставлением оригинала)
- Оплата поставщикам — по графику (вторник и четверг)
- Срочные платежи — с пометкой «Срочно» и согласованием финдиректора
- Предоплата поставщику — только после подписания договора`,
    category: 'Финансовые документы',
    tags: ['согласование', 'маршрут', 'оплата', 'документы'],
    workspaceKey: 'fd',
    authorEmail: 'chulpan@stankoff.ru',
  },
  {
    title: 'Правила оформления счетов и актов',
    content: `Требования к оформлению финансовых документов в Stankoff.

## Обязательные реквизиты счёта

- Номер и дата счёта
- Наименование продавца и покупателя (полное, как в ЕГРЮЛ)
- ИНН/КПП обеих сторон
- Банковские реквизиты продавца
- Наименование товара/услуги, количество, цена, сумма
- Сумма НДС (отдельной строкой)
- Итого к оплате (цифрами и прописью)
- Подпись руководителя и главного бухгалтера

## Типовые ошибки

- Несовпадение наименования организации с ЕГРЮЛ
- Неверный ИНН/КПП
- Отсутствие расшифровки НДС
- Неправильная сумма прописью
- Отсутствие подписи/печати

## Акт выполненных работ

- Ссылка на договор (номер и дата)
- Перечень выполненных работ/оказанных услуг
- Период выполнения
- Стоимость с НДС
- Подписи и печати обеих сторон
- Дата подписания

## Хранение

Оригиналы: в архиве бухгалтерии (5 лет). Сканы: прикреплять к заявке в портале.`,
    category: 'Финансовые документы',
    tags: ['счета', 'акты', 'реквизиты', 'оформление'],
    workspaceKey: 'fd',
    authorEmail: 'chulpan@stankoff.ru',
  },
  {
    title: 'Работа с валютными платежами',
    content: `Порядок проведения валютных платежей при закупке импортного оборудования.

## Валютный контроль

Все валютные операции подлежат контролю со стороны банка:
- Контракт >3 млн ₽ в эквиваленте — постановка на учёт в банке
- Срок постановки: до проведения первой операции по контракту
- Уникальный номер контракта (УНК) присваивается банком

## Документы для банка

- Контракт с иностранным поставщиком
- Инвойс (invoice)
- Справка о подтверждающих документах
- При закрытии: акт приёмки, таможенная декларация

## Сроки репатриации

Если товар оплачен, но не поставлен — максимальный срок возврата денежных средств указан в контракте. Нарушение грозит штрафом до 100% от суммы операции.

## Порядок оплаты

1. Менеджер ВЭД формирует заявку на оплату (workspace FD)
2. Бухгалтерия проверяет документы и курс
3. Финдиректор согласовывает (все валютные платежи)
4. Бухгалтерия формирует платёжное поручение в валюте
5. После оплаты — прикрепить подтверждение банка к заявке

## Курсовые разницы

Учёт по курсу ЦБ РФ на дату операции. Курсовые разницы отражаются в бухучёте.`,
    category: 'Финансовые документы',
    tags: ['валюта', 'платежи', 'валютный контроль', 'импорт'],
    workspaceKey: 'fd',
    authorEmail: 'aleksei.matveev@stankoff.ru',
  },
];

// ═══════════════════════════════════════════════════════════
// ФИНАНСЫ — СОГЛАСОВАНИЕ РАСХОДОВ (SR) — 3 статьи
// ═══════════════════════════════════════════════════════════

const FINANCE_SR_ARTICLES: SeedKnowledgeArticle[] = [
  {
    title: 'Процедура согласования расходов',
    content: `Порядок согласования расходов в компании Stankoff через портал.

## Уровни согласования (DMN-таблица)

| Сумма | Уровень | Требуется директор |
|-------|---------|-------------------|
| > 5 000 000 ₽ | Директор | Да |
| > 1 000 000 ₽ | Финансовый директор | Нет |
| > 100 000 ₽ | Руководитель отдела | Нет |
| Оборудование (любая сумма) | Руководитель отдела | Нет |
| До 100 000 ₽ | Автоматически | Нет |

## Как подать заявку

1. Создать заявку в workspace «Согласование расходов» (SR)
2. Указать: категорию расхода, сумму, обоснование, срок
3. Прикрепить подтверждающие документы (счёт, КП поставщика)
4. Заявка автоматически маршрутизируется по уровню согласования

## Сроки

- До 100 000 ₽: автоматическое одобрение
- До 1 000 000 ₽: 1 рабочий день
- Более 1 000 000 ₽: 2 рабочих дня
- С участием директора: до 3 рабочих дней

## Отклонение

При отклонении указывается причина. Можно подать повторно с корректировками.`,
    category: 'Согласование расходов',
    tags: ['согласование', 'расходы', 'бюджет', 'DMN'],
    workspaceKey: 'sr',
    authorEmail: 'chulpan@stankoff.ru',
  },
  {
    title: 'Категории расходов и лимиты бюджета',
    content: `Классификация расходов и бюджетные лимиты по отделам.

## Категории расходов

1. **Офисные** — канцелярия, мебель, бытовые нужды
2. **Командировочные** — проезд, проживание, суточные
3. **Оборудование** — техника, ПО, инструменты
4. **Маркетинг** — реклама, выставки, сувенирная продукция
5. **Сервис** — запчасти для клиентского оборудования
6. **Транспорт** — доставка, ГСМ, обслуживание автомобилей
7. **Обучение** — курсы, конференции, сертификации
8. **IT** — хостинг, домены, лицензии ПО

## Месячные лимиты по отделам

Лимиты утверждаются ежеквартально финансовым директором. Превышение лимита требует отдельного согласования.

## Неразрешённые расходы

- Развлечения (кроме корпоративных мероприятий, согласованных HR)
- Подарки сотрудникам (только через HR бюджет)
- Личные расходы сотрудников

## Экстренные расходы

Если расход не может ждать стандартного согласования — звонок финансовому директору для устного согласования с последующим оформлением заявки в портале в течение 1 рабочего дня.`,
    category: 'Согласование расходов',
    tags: ['категории', 'лимиты', 'бюджет', 'расходы'],
    workspaceKey: 'sr',
    authorEmail: 'aleksei.matveev@stankoff.ru',
  },
  {
    title: 'Оформление командировочных расходов',
    content: `Порядок оформления командировочных расходов сотрудников.

## До командировки

1. Согласовать командировку с руководителем
2. Подать заявку на аванс в workspace SR (за 3 рабочих дня)
3. Указать: город, даты, цель, ожидаемые расходы
4. Получить аванс на карту после согласования

## Нормы расходов

| Статья | Лимит (Москва/СПб) | Лимит (регионы) |
|--------|-------------------|-----------------|
| Проживание | 5 000 ₽/сутки | 3 500 ₽/сутки |
| Суточные | 700 ₽/день | 700 ₽/день |
| Проезд (поезд) | Купе | Купе |
| Проезд (самолёт) | Эконом | Эконом |
| Такси | По необходимости | По необходимости |

## Авансовый отчёт

Предоставить в бухгалтерию в течение 3 рабочих дней после возвращения:
- Авансовый отчёт (форма АО-1)
- Билеты (или электронные маршрутные квитанции)
- Счета из гостиницы + чеки
- Чеки на прочие расходы

## Важно

- Сохраняйте ВСЕ чеки и квитанции
- Расходы без подтверждающих документов не возмещаются
- При превышении лимита — письменное обоснование
- Прикрепите сканы всех документов к заявке в портале`,
    category: 'Согласование расходов',
    tags: ['командировки', 'авансовый отчёт', 'суточные', 'лимиты'],
    workspaceKey: 'sr',
    authorEmail: 'chulpan@stankoff.ru',
  },
];

// ═══════════════════════════════════════════════════════════
// ЮРИДИЧЕСКИЙ — ДОГОВОРЫ (DG) — 3 статьи
// ═══════════════════════════════════════════════════════════

const LEGAL_DG_ARTICLES: SeedKnowledgeArticle[] = [
  {
    title: 'Типовые договоры компании Stankoff',
    content: `Виды договоров и когда какой использовать.

## Договор поставки

Основной тип. Используется для продажи оборудования клиентам. Включает: спецификацию, условия оплаты, сроки поставки, гарантию, ответственность сторон.

## Договор оказания услуг

Для сервисных работ: пусконаладка, ТО, ремонт, обучение персонала. Включает: перечень работ, сроки, акт приёмки.

## Дилерское соглашение

Для партнёров, перепродающих оборудование. Включает: условия ценообразования, территорию, объёмы, эксклюзивность.

## NDA (соглашение о неразглашении)

Подписывается перед обменом конфиденциальной информацией: технической документацией, ценами, условиями поставщиков.

## Агентский договор

Для привлечения клиентов через агентов. Включает: размер вознаграждения, порядок расчётов.

## Где хранятся шаблоны

Актуальные шаблоны договоров хранятся в базе знаний (этот раздел) и у юридического отдела. При необходимости нестандартного договора — обращайтесь к Чулпан Галлямовой.`,
    category: 'Договоры',
    tags: ['договоры', 'шаблоны', 'поставка', 'услуги', 'NDA'],
    workspaceKey: 'dg',
    authorEmail: 'chulpan.gallyamova@stankoff.ru',
  },
  {
    title: 'Процедура согласования договора',
    content: `Этапы согласования договоров в компании Stankoff.

## Маршрут согласования

1. **Черновик** — менеджер готовит договор (типовой шаблон + спецификация)
2. **Юридическая проверка** — юрист проверяет условия, риски, соответствие законодательству
3. **Финансовая проверка** — бухгалтерия проверяет реквизиты, условия оплаты, НДС
4. **Согласование руководителя** — при сумме >1 млн ₽ или нетиповых условиях
5. **Подписание** — ЭЦП или оригинал (2 экземпляра)

## Сроки

| Тип договора | Срок согласования |
|-------------|------------------|
| Типовой (без изменений) | 1-2 рабочих дня |
| С правками контрагента | 3-5 рабочих дней |
| Нестандартный | до 10 рабочих дней |
| Международный (ВЭД) | до 14 рабочих дней |

## Типовые замечания юриста

- Отсутствие сроков поставки или неопределённые сроки
- Отсутствие ответственности за нарушение сроков
- Неограниченная ответственность Stankoff
- Автоматическое продление без уведомления
- Арбитраж не в Казани

## Действия в портале

Создайте заявку в workspace DG, прикрепите проект договора, укажите контрагента и сумму.`,
    category: 'Договоры',
    tags: ['согласование', 'юрист', 'этапы', 'сроки'],
    workspaceKey: 'dg',
    authorEmail: 'chulpan.gallyamova@stankoff.ru',
  },
  {
    title: 'Проверка контрагентов: критерии и порядок',
    content: `Порядок проверки контрагентов перед заключением договора.

## Обязательная проверка

Проверка обязательна для новых контрагентов и при сумме договора >500 000 ₽.

## Источники проверки

- ЕГРЮЛ/ЕГРИП — актуальность регистрации, адрес, директор
- Арбитражные дела — kad.arbitr.ru
- Исполнительные производства — fssp.gov.ru
- Реестр недобросовестных поставщиков — zakupki.gov.ru
- Сервисы: Контур.Фокус, СБИС, Rusprofile

## Критерии риска (красные флаги)

- Регистрация менее 1 года назад
- Массовый адрес регистрации
- Массовый директор/учредитель
- Уставный капитал 10 000 ₽ при крупной сделке
- Отсутствие сотрудников и активов
- Множество судебных дел в качестве ответчика
- Нахождение в процессе ликвидации/банкротства

## Результат проверки

Юрист формирует заключение: «Рекомендовано» / «С ограничениями» / «Не рекомендовано». Заключение прикрепляется к заявке в портале.

## Периодическая проверка

Действующих контрагентов с оборотом >5 млн ₽/год проверять ежегодно.`,
    category: 'Договоры',
    tags: ['проверка', 'контрагенты', 'ЕГРЮЛ', 'риски', 'due diligence'],
    workspaceKey: 'dg',
    authorEmail: 'chulpan.gallyamova@stankoff.ru',
  },
];

// ═══════════════════════════════════════════════════════════
// ВЭД — ВЭД ОПЕРАЦИИ (VED) — 3 статьи
// ═══════════════════════════════════════════════════════════

const FEA_VED_ARTICLES: SeedKnowledgeArticle[] = [
  {
    title: 'Порядок оформления импортной поставки',
    content: `Алгоритм оформления импорта промышленного оборудования.

## Этапы импортной поставки

1. **Контракт** — подписание внешнеторгового контракта с поставщиком
2. **Паспорт сделки** — постановка контракта на учёт в банке (если >3 млн ₽)
3. **Оплата** — валютный перевод (предоплата или аккредитив)
4. **Отгрузка** — поставщик отгружает товар (FOB/CIF/EXW)
5. **Транспортировка** — морской/авиа/авто транспорт до границы РФ
6. **Таможенное оформление** — декларирование через брокера
7. **Доставка** — от таможни до склада Stankoff
8. **Оприходование** — приёмка на склад, закрытие контракта

## Базовые условия поставки (Инкотермс 2020)

- **EXW** — забираем со склада поставщика (минимум рисков для поставщика)
- **FOB** — поставщик доставляет до порта отгрузки
- **CIF** — поставщик оплачивает доставку и страховку до порта назначения
- Чаще всего используем: FOB (Китай), CIF (Европа)

## Сроки

| Маршрут | Морем | Авиа |
|---------|-------|------|
| Китай → Казань | 45-60 дней | 10-15 дней |
| Европа → Казань | 20-30 дней | 5-7 дней |
| Тайвань → Казань | 50-65 дней | 12-18 дней |

## Документы

Инвойс, упаковочный лист, коносамент/AWB, сертификат происхождения, техническая документация.`,
    category: 'ВЭД',
    tags: ['импорт', 'таможня', 'Инкотермс', 'поставка'],
    workspaceKey: 'ved',
    authorEmail: 'ildar@stankoff.ru',
  },
  {
    title: 'Работа с таможенным брокером',
    content: `Порядок взаимодействия с таможенным брокером при импорте оборудования.

## Выбор брокера

Stankoff работает с аккредитованными таможенными брокерами. Актуальный список — у руководителя ВЭД. Критерии: опыт с промышленным оборудованием, знание кодов ТН ВЭД для станков.

## Документы для передачи брокеру

1. Контракт с поставщиком (копия)
2. Инвойс (оригинал или скан)
3. Упаковочный лист (packing list)
4. Коносамент (Bill of Lading) или авианакладная (AWB)
5. Сертификат происхождения (Certificate of Origin)
6. Техническое описание оборудования
7. Доверенность на таможенное оформление

## Коды ТН ВЭД (основные)

- 8457 — Обрабатывающие центры
- 8458 — Токарные станки
- 8459 — Сверлильные и расточные станки
- 8461 — Строгальные, долбёжные станки
- 8462 — Прессы, штамповочные станки
- 8456 — Лазерные, ультразвуковые станки
- 8477 — Оборудование для обработки полимеров

## Таможенные платежи

- Таможенная пошлина: 0-5% (зависит от кода ТН ВЭД, многие станки — 0%)
- НДС: 20% от таможенной стоимости + пошлина
- Таможенный сбор: фиксированная сумма

## Сроки оформления

Стандартное оформление: 1-3 рабочих дня. При досмотре: до 10 рабочих дней.`,
    category: 'ВЭД',
    tags: ['таможня', 'брокер', 'ТН ВЭД', 'документы'],
    workspaceKey: 'ved',
    authorEmail: 'ildar@stankoff.ru',
  },
  {
    title: 'Валютный контроль при ВЭД операциях',
    content: `Требования валютного контроля при внешнеэкономических операциях Stankoff.

## Постановка на учёт

Контракты на сумму >3 000 000 ₽ (или эквивалент) подлежат обязательной постановке на учёт в банке. Банк присваивает уникальный номер контракта (УНК).

## Справка о подтверждающих документах

Предоставляется в банк в течение 15 рабочих дней после:
- Оформления таможенной декларации
- Подписания акта приёмки
- Иного исполнения обязательств

## Сроки репатриации

Если Stankoff оплатил товар, товар должен быть поставлен в срок, указанный в контракте. Если товар не поставлен — деньги должны быть возвращены.

Штраф за нарушение: от 1/150 ключевой ставки ЦБ за день просрочки до 100% суммы операции.

## Рекомендации

- Всегда указывать реальные сроки поставки в контракте (с запасом)
- При задержке — оформить дополнительное соглашение о продлении срока ДО истечения
- Хранить всю переписку с поставщиком как доказательство добросовестности
- Информировать бухгалтерию о каждом этапе поставки

## Контроль в портале

Все ВЭД операции ведутся в workspace VED. Статусы отражают этапы: Новая → Документы → Таможня → Логистика → Завершена.`,
    category: 'ВЭД',
    tags: ['валютный контроль', 'репатриация', 'УНК', 'штрафы'],
    workspaceKey: 'ved',
    authorEmail: 'ildar@stankoff.ru',
  },
];

// ═══════════════════════════════════════════════════════════
// УПРАВЛЕНИЕ — HR И КАДРЫ (HR) — 3 статьи
// ═══════════════════════════════════════════════════════════

const HR_ARTICLES: SeedKnowledgeArticle[] = [
  {
    title: 'Оформление отпуска: пошаговая инструкция',
    content: `Порядок оформления ежегодного оплачиваемого отпуска.

## За 2 недели до отпуска

1. Создать заявку в workspace «HR и кадры» (HR)
2. Тип: «Отпуск»
3. Указать: даты начала и окончания, количество дней
4. Согласовать с непосредственным руководителем

## Согласование

1. Руководитель отдела → одобрение/отклонение
2. HR → проверка остатка дней отпуска
3. Бухгалтерия → расчёт отпускных

## Нормы

- Ежегодный отпуск: 28 календарных дней
- Минимальная часть: 14 дней подряд (по ТК РФ)
- Остаток можно разбить на части (минимум 1 день)
- Отпускные выплачиваются за 3 календарных дня до начала

## Особые случаи

- Отпуск без сохранения зарплаты: по заявлению, согласование директора
- Учебный отпуск: при предоставлении справки-вызова из учебного заведения
- Перенос отпуска: заявление за 5 рабочих дней, с согласия руководителя

## Документы

- Заявление на отпуск (можно через портал)
- Приказ (оформляет HR)
- Записка-расчёт (бухгалтерия)`,
    category: 'Кадровые процедуры',
    tags: ['отпуск', 'заявление', 'согласование', 'отпускные'],
    workspaceKey: 'hr',
    authorEmail: 'anna.sidorova@stankoff.ru',
  },
  {
    title: 'Процедура приёма нового сотрудника',
    content: `Чек-лист оформления нового сотрудника в Stankoff.

## Документы от сотрудника

- Паспорт (копия)
- СНИЛС
- ИНН
- Трудовая книжка (или сведения о трудовой деятельности)
- Документы об образовании
- Военный билет (для военнообязанных)
- Фотография 3×4 (2 шт.)

## Оформление (HR)

1. Подписание трудового договора (2 экземпляра)
2. Оформление приказа о приёме
3. Заполнение личной карточки Т-2
4. Вводный инструктаж по охране труда
5. Инструктаж по информационной безопасности

## Настройка доступов (IT + HR)

1. Создание учётной записи в Keycloak (IT отдел)
2. Добавление в портал Stankoff с назначением в отдел и workspace
3. Назначение роли в RBAC (employee/editor по умолчанию)
4. Создание корпоративного email (@stankoff.ru)
5. Доступ к необходимым системам (CRM, 1С и т.д.)

## Адаптация (первая неделя)

- Знакомство с командой
- Обзор портала и базы знаний
- Назначение наставника
- Постановка задач на испытательный срок

## Испытательный срок

Стандартный: 3 месяца. Руководитель оценивает в конце каждого месяца.`,
    category: 'Кадровые процедуры',
    tags: ['приём', 'оформление', 'документы', 'адаптация'],
    workspaceKey: 'hr',
    authorEmail: 'anna.sidorova@stankoff.ru',
  },
  {
    title: 'Система мотивации и KPI сотрудников',
    content: `Общие принципы системы мотивации в компании Stankoff.

## Структура заработной платы

- Оклад (фиксированная часть) — 60-70%
- Премия (переменная часть) — 30-40%, зависит от KPI

## KPI по отделам

### Отдел продаж
- Объём продаж (₽)
- Количество закрытых сделок
- Средний чек
- Конверсия заявок в продажи

### Сервисный отдел
- Количество закрытых заявок
- Соблюдение SLA (% в срок)
- Удовлетворённость клиентов
- Повторные обращения (<10%)

### Маркетинг
- Количество лидов
- Стоимость лида (CPL)
- Трафик на сайт
- Конверсия сайта

### Логистика/Склад
- Своевременность отгрузок
- Точность комплектации
- Отсутствие потерь

## Периодичность оценки

- Ежемесячно: расчёт премии по KPI
- Ежеквартально: обзор целей, корректировка
- Ежегодно: аттестация, пересмотр оклада

## Дополнительная мотивация

- Корпоративные мероприятия (2 раза в год)
- Обучение за счёт компании
- ДМС (с 6 месяцев работы)
- Компенсация фитнеса`,
    category: 'Кадровые процедуры',
    tags: ['KPI', 'мотивация', 'премия', 'оценка'],
    workspaceKey: 'hr',
    authorEmail: 'anna.sidorova@stankoff.ru',
  },
];

// ═══════════════════════════════════════════════════════════
// УПРАВЛЕНИЕ — ТЕНДЕРЫ (TN) — 3 статьи
// ═══════════════════════════════════════════════════════════

const TENDER_TN_ARTICLES: SeedKnowledgeArticle[] = [
  {
    title: 'Алгоритм подготовки тендерной документации',
    content: `Порядок подготовки и подачи тендерной заявки.

## Этапы подготовки

1. **Поиск** — мониторинг площадок: zakupki.gov.ru, B2B-Center, Фабрикант, РТС-тендер
2. **Анализ** — изучение ТЗ, оценка соответствия требованиям, расчёт маржинальности
3. **Подготовка** — сбор документов, подготовка заявки
4. **Подача** — подписание ЭЦП, отправка на площадку
5. **Рассмотрение** — ожидание решения заказчика
6. **Результат** — выиграно/проиграно

## Состав тендерной заявки

- Заявка на участие (по форме заказчика)
- Выписка из ЕГРЮЛ (не старше 30 дней)
- Копии учредительных документов
- Справка об отсутствии задолженности по налогам
- Бухгалтерская отчётность за последний год
- Техническое предложение (спецификация оборудования)
- Коммерческое предложение (ценовая часть)
- Референс-лист (список выполненных поставок)

## Сроки

- Анализ тендера: 1 рабочий день
- Подготовка заявки: 3-5 рабочих дней
- Подача: минимум за 1 день до дедлайна

## В портале

Workspace «Тендеры» (TN). Создайте заявку с указанием номера тендера, площадки, дедлайна и суммы.`,
    category: 'Тендеры',
    tags: ['тендеры', 'заявка', 'документация', 'закупки'],
    workspaceKey: 'tn',
    authorEmail: 'ivan.leontiev@stankoff.ru',
  },
  {
    title: 'Критерии участия в тендерах',
    content: `Критерии отбора тендеров для участия компании Stankoff.

## Обязательные критерии (go/no-go)

- Предмет закупки соответствует нашей номенклатуре
- Мы соответствуем квалификационным требованиям
- Срок поставки реален (с учётом логистики)
- Нет конфликта интересов

## Финансовые критерии

| Параметр | Минимум |
|---------|---------|
| Сумма контракта | 500 000 ₽ |
| Маржинальность | 15% |
| Обеспечение заявки | Не более 5% от суммы |
| Обеспечение контракта | Не более 30% от суммы |

## Красные флаги

- Заказчик в реестре недобросовестных
- Нереальные сроки поставки (менее 2 недель для импорта)
- Требования «под конкретного поставщика» (узкая спецификация)
- История неоплаты победителям
- Требование аванса от поставщика

## Решение об участии

Решение принимает руководитель тендерного отдела. При сумме >5 млн ₽ — согласование с директором. Результат решения фиксируется в заявке портала.

## Статистика

Целевой показатель конверсии: 20-30% (выигранных от поданных).`,
    category: 'Тендеры',
    tags: ['критерии', 'отбор', 'решение', 'маржинальность'],
    workspaceKey: 'tn',
    authorEmail: 'ivan.leontiev@stankoff.ru',
  },
  {
    title: 'Шаблон тендерной заявки',
    content: `Структура тендерной заявки и требования к оформлению.

## Часть 1: Информация об участнике

- Полное наименование: ООО «Станкофф»
- ИНН/КПП, ОГРН
- Юридический и фактический адрес
- Контактное лицо, телефон, email
- Банковские реквизиты

## Часть 2: Техническое предложение

- Наименование предлагаемого оборудования (точное)
- Страна происхождения, производитель
- Технические характеристики (по форме ТЗ заказчика)
- Соответствие требованиям ТЗ (таблица соответствия)
- Гарантийные условия
- Условия сервисного обслуживания

## Часть 3: Ценовое предложение

- Цена за единицу (с НДС и без)
- Общая стоимость контракта
- Стоимость доставки (если не включена)
- Стоимость пусконаладки (если требуется)
- Стоимость обучения персонала (если требуется)
- Срок действия ценового предложения

## Оформление

- Все документы в формате PDF
- Подписаны ЭЦП руководителя
- Нумерация страниц
- Опись вложений
- Язык: русский

## Типовые ошибки

- Несоответствие формату заказчика
- Неполный комплект документов
- Просроченная выписка ЕГРЮЛ
- Неправильная ЭЦП (не руководителя)`,
    category: 'Тендеры',
    tags: ['шаблон', 'заявка', 'оформление', 'структура'],
    workspaceKey: 'tn',
    authorEmail: 'ivan.leontiev@stankoff.ru',
  },
];

// ═══════════════════════════════════════════════════════════
// IT — DEV WORKSPACE — 3 статьи
// ═══════════════════════════════════════════════════════════

const IT_DEV_ARTICLES: SeedKnowledgeArticle[] = [
  {
    title: 'Правила работы с Git и код-ревью',
    content: `Правила разработки и код-ревью в проекте Stankoff Portal.

## Git Flow

- **main** — production ветка (стабильный код)
- **develop** — ветка разработки, автодеплой на preprod
- **feature/xxx** — ветки для фич (от develop)
- **fix/xxx** — ветки для багфиксов

## Именование коммитов

Conventional Commits:
- feat: новая функциональность
- fix: исправление бага
- refactor: рефакторинг без изменения поведения
- docs: документация
- test: тесты
- chore: обслуживание (зависимости, конфиг)

Пример: «feat: employee invitation system + fix comment authorId from JWT»

## Pull Request

- Название: краткое описание изменений (до 70 символов)
- Описание: что изменено, зачем, как тестировать
- Ревьюер: назначается автоматически или вручную
- CI: все проверки должны пройти (lint, тесты, build)

## Код-ревью

- Проверять: логику, безопасность, производительность, читаемость
- Оставлять конструктивные комментарии
- Approve только когда все замечания устранены
- Не мержить свой PR без ревью (кроме hotfix)

## Husky pre-commit

Настроен pre-commit hook: TypeScript компиляция + unit-тесты. Коммит отклоняется если проверки не проходят.`,
    category: 'Разработка',
    tags: ['Git', 'код-ревью', 'PR', 'conventional commits'],
    workspaceKey: 'it',
    authorEmail: 'youredik@gmail.com',
  },
  {
    title: 'Архитектура портала Stankoff',
    content: `Обзор архитектуры портала Stankoff для разработчиков.

## Стек технологий

- **Frontend:** Next.js 16, React 19, TypeScript, Tailwind CSS 4, Zustand
- **Backend:** NestJS 11, TypeORM, PostgreSQL (pgvector), Socket.IO
- **BPMN:** Camunda 8, Zeebe workflow engine
- **AI:** Groq (LLM), Ollama (embeddings), RAG поиск
- **Инфра:** Docker Swarm, GitHub Actions CI/CD, Nginx

## Монорепо (npm workspaces)

- apps/frontend — Next.js App Router
- apps/backend — NestJS модули

## Backend модули

Один модуль = одна сущность. Ключевые модули:
- auth — Keycloak SSO + JWT
- rbac — permission-based RBAC (role → permissions)
- entity, workspace, section — основные сущности
- bpmn — Camunda/Zeebe интеграция, workers, triggers, user tasks
- ai — классификация, RAG, assist, notifications
- chat — корпоративный мессенджер (Socket.IO)
- knowledge-base — база знаний (FAQ + документы)
- sla, dmn — SLA мониторинг и DMN таблицы решений
- legacy — интеграция с legacy CRM (MariaDB)

## Frontend архитектура

- App Router (pages в app/)
- Zustand stores для состояния
- apiClient для API (через Next.js rewrites → /api/*)
- Socket.IO для real-time обновлений
- bpmn-js для редактора BPMN (dynamic import, SSR отключён)

## База данных

PostgreSQL с pgvector. Все миграции через TypeORM CLI. synchronize: false.`,
    category: 'Разработка',
    tags: ['архитектура', 'стек', 'NestJS', 'Next.js', 'обзор'],
    workspaceKey: 'it',
    authorEmail: 'youredik@gmail.com',
  },
  {
    title: 'Деплой и CI/CD: руководство разработчика',
    content: `Как работает деплой портала Stankoff.

## Окружения

| Окружение | Ветка | URL | Автодеплой |
|-----------|-------|-----|-----------|
| Development | любая | localhost:3000 | — |
| Preprod | develop | preprod.stankoff.ru | Да |
| Production | main | bpms.stankoff.ru | Планируется |

## CI/CD Pipeline (GitHub Actions)

При push в develop или main:
1. Lint + Type Check (frontend + backend)
2. Backend unit-тесты
3. Frontend тесты
4. Build Docker Images (AMD64) → push в GHCR
5. Deploy на сервер через SSH

## Docker Swarm

Preprod использует Docker Swarm для zero-downtime деплоя:
- start-first: сначала стартует новый контейнер
- healthcheck: ждёт пока пройдёт
- rollback: при ошибке откатывает

## Локальная разработка

npm run dev — запуск frontend (3000) + backend (3001)
npm run docker:up — PostgreSQL + pgAdmin

## Полезные команды

- Логи backend: ssh preprod «docker service logs stankoff-preprod_backend -f»
- Health check: curl https://preprod.stankoff.ru/api/health
- Статус сервисов: ssh preprod «docker stack services stankoff-preprod»

## Миграции

При изменении entity: npm run migration:generate, проверить SQL, npm run migration:run. На деплое миграции применяются автоматически (migrationsRun: true).`,
    category: 'Разработка',
    tags: ['деплой', 'CI/CD', 'Docker', 'Swarm', 'GitHub Actions'],
    workspaceKey: 'it',
    authorEmail: 'korshunovsm@yandex.ru',
  },
];

// ═══════════════════════════════════════════════════════════
// ЭКСПОРТ
// ═══════════════════════════════════════════════════════════

export const KNOWLEDGE_BASE_ARTICLES: SeedKnowledgeArticle[] = [
  ...GLOBAL_ARTICLES,
  ...SALES_ZK_ARTICLES,
  ...SALES_KP_ARTICLES,
  ...SERVICE_SZ_ARTICLES,
  ...SERVICE_REK_ARTICLES,
  ...MARKETING_MK_ARTICLES,
  ...MARKETING_KN_ARTICLES,
  ...WAREHOUSE_SK_ARTICLES,
  ...LOGISTICS_DV_ARTICLES,
  ...FINANCE_FD_ARTICLES,
  ...FINANCE_SR_ARTICLES,
  ...LEGAL_DG_ARTICLES,
  ...FEA_VED_ARTICLES,
  ...HR_ARTICLES,
  ...TENDER_TN_ARTICLES,
  ...IT_DEV_ARTICLES,
];
