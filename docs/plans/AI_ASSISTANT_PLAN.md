# AI-ะฟะพะผะพัะฝะธะบ ะดะปั ัะพัััะดะฝะธะบะพะฒ โ ะะปะฐะฝ ัะฐะทัะฐะฑะพัะบะธ

> **ะกัะฐััั:** ะะปะฐะฝะธัะพะฒะฐะฝะธะต
> **ะะฐัะฐ:** 2026-02-09
> **ะัะธะพัะธัะตั:** ะััะพะบะธะน โ ะบะปััะตะฒะฐั ัะธัะฐ ะดะปั ะฟัะพะดัะบัะธะฒะฝะพััะธ ัะพัััะดะฝะธะบะพะฒ

## ะะพะฝัะตะฟัะธั

ะัะพะฐะบัะธะฒะฝัะน AI-ะฐััะธััะตะฝั, ะบะพัะพััะน **ะฐะฒัะพะผะฐัะธัะตัะบะธ ะธ ะฝะตะฝะฐะฒัะทัะธะฒะพ** ะฟะพะบะฐะทัะฒะฐะตั ัะพัััะดะฝะธะบะฐะผ ะบะพะฝัะตะบััะฝัะต ะฟะพะดัะบะฐะทะบะธ ะฟัะธ ัะฐะฑะพัะต ั ะทะฐัะฒะบะฐะผะธ. ะะต ะฟัะพััะพ ะฒะบะปะฐะดะบะฐ "AI" โ ะฐ ัะผะฝัะน ะฟะพะผะพัะฝะธะบ, ะธะฝัะตะณัะธัะพะฒะฐะฝะฝัะน ะฒ ัะฐะฑะพัะธะน ะฟัะพัะตัั.

### ะัะธะฝัะธะฟั
- **ะะตะฝะฐะฒัะทัะธะฒะพััั** โ ะฟะพะดัะบะฐะทะบะธ ะฝะต ะฑะปะพะบะธัััั ัะฐะฑะพัั, ะฐ ะดะพะฟะพะปะฝััั
- **ะะพะฝัะตะบัััะฐะปัะฝะพััั** โ ะฟะพะบะฐะทัะฒะฐะตะผ ัะพะปัะบะพ ัะตะปะตะฒะฐะฝัะฝะพะต, ะฝะต ััะผ
- **ะะตะนััะฒะตะฝะฝะพััั** โ ะบะฐะถะดะฐั ะฟะพะดัะบะฐะทะบะฐ ัะพะดะตัะถะธั ะบะพะฝะบัะตัะฝะพะต ะดะตะนััะฒะธะต (1 ะบะปะธะบ)
- **ะัะพะณัะตััะธะฒะฝะพะต ัะฐัะบัััะธะต** โ ัะฝะฐัะฐะปะฐ ะบะพะผะฟะฐะบัะฝะพ, ะฟะพ ะบะปะธะบั โ ะดะตัะฐะปะธ
- **Graceful degradation** โ ะตัะปะธ AI ะฝะตะดะพัััะฟะตะฝ, ะฝะธัะตะณะพ ะฝะต ะปะพะผะฐะตััั

## ะขะตะบััะตะต ัะพััะพัะฝะธะต (ััะพ ัะถะต ะตััั)

### Backend (ะณะพัะพะฒ ะฝะฐ ~80%)
- โ `AiAssistantService.getAssistance(entityId)` โ ะฟะพัะพะถะธะต ะบะตะนัั, ัะบัะฟะตััั, ะดะตะนััะฒะธั
- โ `ClassifierService.classify()` โ ะบะฐัะตะณะพัะธั, ะฟัะธะพัะธัะตั, ะฝะฐะฒัะบะธ
- โ `KnowledgeBaseService.search()` โ RAG ะฟะพะธัะบ ะฟะพ 356K legacy ะทะฐัะฒะพะบ
- โ `AiAssistantService.suggestResponse()` โ ะณะตะฝะตัะฐัะธั ัะตัะฝะพะฒะธะบะฐ ะพัะฒะตัะฐ
- โ ะัะปััะธ-ะฟัะพะฒะฐะนะดะตั: Groq (ะฑััััะพ, ะฑะตัะฟะปะฐัะฝะพ) โ Ollama โ OpenAI
- โ `AiUsageService` โ ะผะพะฝะธัะพัะธะฝะณ ะธัะฟะพะปัะทะพะฒะฐะฝะธั

### Frontend (ะณะพัะพะฒ ะฝะฐ ~20%)
- โ `AiAssistantTab` โ ะฒะบะปะฐะดะบะฐ ะฒ EntityDetailPanel (ะฟะพัะพะถะธะต ะบะตะนัั, ัะบัะฟะตััั)
- โ `AiClassificationPanel` โ ะฑะปะพะบ ะบะปะฐััะธัะธะบะฐัะธะธ ะฒ ัะฐะนะดะฑะฐัะต
- โ `aiApi` โ API ะบะปะธะตะฝั
- โ ะะตั ะฟัะพะฐะบัะธะฒะฝัั ะฟะพะดัะบะฐะทะพะบ ะฟัะธ ะพัะบัััะธะธ ะทะฐัะฒะบะธ
- โ ะะตั ะธะฝัะตะณัะฐัะธะธ ะฒ ัะตะดะฐะบัะพั ะบะพะผะผะตะฝัะฐัะธะตะฒ
- โ ะะตั ะฐะฒัะพะบะปะฐััะธัะธะบะฐัะธะธ ะฟัะธ ัะพะทะดะฐะฝะธะธ
- โ ะะตั Zustand store ะดะปั AI ัะพััะพัะฝะธั
- โ ะะตั WebSocket ัะพะฑััะธะน ะดะปั AI

---

## ะคะฐะทั ัะฐะทัะฐะฑะพัะบะธ

### ะคะฐะทะฐ 1: ะฃะผะฝัะน ัะฐะนะดะฑะฐั ั ะฟะพะดัะบะฐะทะบะฐะผะธ (MVP)
**ะฆะตะปั:** ะัะธ ะพัะบัััะธะธ ะทะฐัะฒะบะธ โ ะฐะฒัะพะผะฐัะธัะตัะบะธ ะฟะพะบะฐะทะฐัั ะบะพะผะฟะฐะบัะฝัะต ะฟะพะดัะบะฐะทะบะธ ะฒ ะฟัะฐะฒะพะผ ัะฐะนะดะฑะฐัะต.

#### 1.1 AI Insights Panel (ะฝะพะฒัะน ะบะพะผะฟะพะฝะตะฝั ะฒ ัะฐะนะดะฑะฐัะต)
ะะพะผะฟะฐะบัะฝัะน ะฑะปะพะบ ะผะตะถะดั "AI Classification" ะธ "BPMN Processes":

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ ๐ก AI ะะพะดัะบะฐะทะบะธ          [โณ] โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ ๐ ะะฐะนะดะตะฝะพ 3 ะฟะพัะพะถะธั ัะตัะตะฝะธัโ
โ โโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ โ LEG-45231 (92% ัะพะฒะฟะฐะด.)  โ โ
โ โ "ะะฐะผะตะฝะฐ ะฟะพะดัะธะฟะฝะธะบะฐ..."    โ โ
โ โ ะะตัะตะฝะธะต ะทะฐ 2ั            โ โ
โ โ [ะะพัะผะพััะตัั] [ะะพะฟะธัะพะฒะฐัั]โ โ
โ โโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ + ะตัั 2 ัะตัะตะฝะธั...           โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ ๐ค ะะตะบะพะผะตะฝะดัะตะผัะต ัะบัะฟะตััั    โ
โ โข ะะฒะฐะฝะพะฒ ะ. (5 ะฟะพัะพะถะธั)     โ
โ โข ะะตััะพะฒ ะก. (3 ะฟะพัะพะถะธั)     โ
โ   [ะะฐะทะฝะฐัะธัั ะะฒะฐะฝะพะฒะฐ]        โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ โก ะัััััะต ะดะตะนััะฒะธั          โ
โ [ะะฐะทะฝะฐัะธัั ัะบัะฟะตััะฐ]         โ
โ [ะััะฐะฒะธัั ัะฐะฑะปะพะฝ ะพัะฒะตัะฐ]    โ
โ [ะะปะฐััะธัะธัะธัะพะฒะฐัั]           โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

**ะงัะพ ะดะตะปะฐะตะผ:**
- [ ] Zustand store `useAiStore` โ ัะฟัะฐะฒะปะตะฝะธะต ัะพััะพัะฝะธะตะผ AI ะฟะพะดัะบะฐะทะพะบ
- [ ] ะะพะผะฟะพะฝะตะฝั `AiInsightsPanel` โ ะบะพะผะฟะฐะบัะฝัะต ะฟะพะดัะบะฐะทะบะธ ะฒ ัะฐะนะดะฑะฐัะต
- [ ] ะะฒัะพะทะฐะฟัะพั `getAssistance()` ะฟัะธ ะพัะบัััะธะธ ะทะฐัะฒะบะธ (debounce, cache)
- [ ] ะกะบะตะปะตัะพะฝ-ะทะฐะณััะทะบะฐ (skeleton loader) ะฟะพะบะฐ AI ะดัะผะฐะตั
- [ ] ะกะฒะพัะฐัะธะฒะฐะฝะธะต/ัะฐะทะฒะพัะฐัะธะฒะฐะฝะธะต ะฑะปะพะบะพะฒ
- [ ] ะะฝะพะฟะบะฐ "ะะฐะทะฝะฐัะธัั" โ ะฝะฐะทะฝะฐัะฐะตั ัะตะบะพะผะตะฝะดะพะฒะฐะฝะฝะพะณะพ ัะบัะฟะตััะฐ ะพะดะฝะธะผ ะบะปะธะบะพะผ
- [ ] ะะฝะพะฟะบะฐ "ะะพะฟะธัะพะฒะฐัั ัะตัะตะฝะธะต" โ ะบะพะฟะธััะตั ัะตะบัั ัะตัะตะฝะธั ะฒ ะฑััะตั

**Backend ะธะทะผะตะฝะตะฝะธั:**
- [ ] ะะฟัะธะผะธะทะธัะพะฒะฐัั `getAssistance()` โ ะบััะธัะพะฒะฐะฝะธะต ัะตะทัะปััะฐัะพะฒ ะฝะฐ 5 ะผะธะฝ
- [ ] ะะพะฑะฐะฒะธัั ะฟะพะปะต `resolutionSummary` โ ะบัะฐัะบะพะต ัะตะทัะผะต ัะตัะตะฝะธั (LLM-generated)
- [ ] Lightweight endpoint `GET /api/ai/assist/:entityId/quick` โ ัะพะปัะบะพ top-1 ัะตะทัะปััะฐั (ะฑัััััะน)

#### 1.2 ะะฒัะพะบะปะฐััะธัะธะบะฐัะธั ะฟัะธ ัะพะทะดะฐะฝะธะธ ะทะฐัะฒะบะธ
ะะพะณะดะฐ ัะพัััะดะฝะธะบ ัะพะทะดะฐัั ะทะฐัะฒะบั โ ะฐะฒัะพะผะฐัะธัะตัะบะธ ะบะปะฐััะธัะธัะธัะพะฒะฐัั ะฒ ัะพะฝะต.

**ะงัะพ ะดะตะปะฐะตะผ:**
- [ ] BPMN ััะธะณะณะตั `on:entity:created` โ ะฐะฒัะพะบะปะฐััะธัะธะบะฐัะธั
- [ ] ะะปะธ: EventListener ะฒ `EntitiesService` โ `ClassifierService.classifyAndSave()`
- [ ] WebSocket ัะพะฑััะธะต `ai:classification:ready` โ ัะฒะตะดะพะผะปะตะฝะธะต ััะพะฝัะฐ
- [ ] ะะฝะธะผะธัะพะฒะฐะฝะฝัะน ะฑะตะนะดะถ ะฒ ัะฐะนะดะฑะฐัะต ะบะพะณะดะฐ ะบะปะฐััะธัะธะบะฐัะธั ะณะพัะพะฒะฐ
- [ ] ะะฝะพะฟะบะฐ "ะัะธะผะตะฝะธัั" โ ะพะฑะฝะพะฒะปัะตั ะฟัะธะพัะธัะตั ะธ ะบะฐัะตะณะพัะธั ะทะฐัะฒะบะธ

**ะัะตะฝะบะฐ:** ~3-4 ะดะฝั

---

### ะคะฐะทะฐ 2: AI ะฒ ัะตะดะฐะบัะพัะต ะบะพะผะผะตะฝัะฐัะธะตะฒ
**ะฆะตะปั:** ะะพะผะพัั ัะพัััะดะฝะธะบั ะฑััััะตะต ะฝะฐะฟะธัะฐัั ะพัะฒะตั ะบะปะธะตะฝัั.

#### 2.1 ะะฝะพะฟะบะฐ "ะกะณะตะฝะตัะธัะพะฒะฐัั ะพัะฒะตั" ะฒ CommentEditor
```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ [B] [I] [Link] [Code] ... [โจ AI]   โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ                                      โ
โ  (ะฟัััะพะน ัะตะดะฐะบัะพั)                   โ
โ                                      โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ  โ โจ AI ะฟัะตะดะปะฐะณะฐะตั ะพัะฒะตั:         โ โ
โ  โ                                  โ โ
โ  โ "ะะพะฑััะน ะดะตะฝั! ะะปั ัะตัะตะฝะธั       โ โ
โ  โ  ะฟัะพะฑะปะตะผั ั ะฟะพะดัะธะฟะฝะธะบะพะผ ัะตะบ..."  โ โ
โ  โ                                  โ โ
โ  โ [ะััะฐะฒะธัั] [ะะตะดะฐะบัะธัะพะฒะฐัั]       โ โ
โ  โ [ะะตัะตะณะตะฝะตัะธัะพะฒะฐัั]               โ โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ                                      โ
โ                        [ะัะฟัะฐะฒะธัั]   โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

**ะงัะพ ะดะตะปะฐะตะผ:**
- [ ] ะะฝะพะฟะบะฐ โจ ะฒ ััะปะฑะฐัะต Tiptap โ ะฒัะทัะฒะฐะตั `suggestResponse(entityId)`
- [ ] ะะพะฟะฐะฟ/inline ะฑะปะพะบ ั ะฟัะตะดะปะพะถะตะฝะฝัะผ ะพัะฒะตัะพะผ
- [ ] "ะััะฐะฒะธัั" โ ะฒััะฐะฒะปัะตั ัะตะบัั ะฒ ัะตะดะฐะบัะพั
- [ ] "ะะตะดะฐะบัะธัะพะฒะฐัั" โ ะฒััะฐะฒะปัะตั ะบะฐะบ editable
- [ ] "ะะตัะตะณะตะฝะตัะธัะพะฒะฐัั" โ ะฟะพะฒัะพัะฝัะน ะทะฐะฟัะพั ั ะดััะณะธะผ seed
- [ ] ะะพะฝัะตะบััะฝะฐั ะณะตะฝะตัะฐัะธั โ ััะธััะฒะฐะตั ะฒัั ะฟะตัะตะฟะธัะบั + ะฟะพัะพะถะธะต ะบะตะนัั

#### 2.2 ะจะฐะฑะปะพะฝั ะพัะฒะตัะพะฒ ะฝะฐ ะพัะฝะพะฒะต AI
AI ะฐะฝะฐะปะธะทะธััะตั ััะฟะตัะฝัะต ะพัะฒะตัั ะธะท legacy ะธ ะฟัะตะดะปะฐะณะฐะตั ัะฐะฑะปะพะฝั:
- [ ] Endpoint `GET /api/ai/templates?category=technical_support`
- [ ] Dropdown "ะจะฐะฑะปะพะฝั" ะฒ ัะตะดะฐะบัะพัะต โ ัะฟะธัะพะบ ัะฐะฑะปะพะฝะพะฒ ะฟะพ ะบะฐัะตะณะพัะธะธ ะทะฐัะฒะบะธ
- [ ] ะจะฐะฑะปะพะฝั ั ะฟะตัะตะผะตะฝะฝัะผะธ (`{customerName}`, `{equipmentModel}`)

**ะัะตะฝะบะฐ:** ~3-4 ะดะฝั

---

### ะคะฐะทะฐ 3: ะัะพะฐะบัะธะฒะฝัะต ัะฒะตะดะพะผะปะตะฝะธั
**ะฆะตะปั:** AI ัะฐะผ ะธะฝะธัะธะธััะตั ะฟะพะดัะบะฐะทะบะธ ะบะพะณะดะฐ ะฒะธะดะธั ะฟะฐััะตัะฝั.

#### 3.1 ะฃะผะฝัะต ัะฒะตะดะพะผะปะตะฝะธั ะฒ Inbox
```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ ๐ ะฃะฒะตะดะพะผะปะตะฝะธั                   โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ โจ AI: ะะฐัะฒะบะฐ LEG-78901 ะฟะพัะพะถะฐ  โ
โ    ะฝะฐ ะบัะธัะธัะตัะบัั ะฟัะพะฑะปะตะผั       โ
โ    ั ัะตัะฒะพะดะฒะธะณะฐัะตะปะตะผ (98%)       โ
โ    [ะัะบัััั] [ะัะบะปะพะฝะธัั]        โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ โจ AI: 3 ะทะฐัะฒะบะธ ะฟะพ ัะพะน ะถะต ัะตะผะต  โ
โ    ะทะฐ ะฟะพัะปะตะดะฝะธะน ัะฐั โ ะฒะพะทะผะพะถะฝะฐั  โ
โ    ัะธััะตะผะฝะฐั ะฟัะพะฑะปะตะผะฐ            โ
โ    [ะะพัะผะพััะตัั] [ะะณะฝะพัะธัะพะฒะฐัั]  โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

**ะกัะตะฝะฐัะธะธ:**
- [ ] **ะะพะฒัะพััััะฐััั ะฟัะพะฑะปะตะผะฐ** โ AI ะทะฐะผะตัะฐะตั ะบะปะฐััะตั ะฟะพัะพะถะธั ะทะฐัะฒะพะบ
- [ ] **ะัะธัะธัะตัะบะฐั ะทะฐัะฒะบะฐ** โ AI ะพะฟัะตะดะตะปัะตั ะฒััะพะบะธะน ะฟัะธะพัะธัะตั, ัะฒะตะดะพะผะปัะตั ะผะตะฝะตะดะถะตัะฐ
- [ ] **SLA ะฟะพะด ัะณัะพะทะพะน** โ AI ะฟัะตะดะปะฐะณะฐะตั ััะบะฐะปะฐัะธั ั ะบะพะฝะบัะตัะฝัะผ ะฟะปะฐะฝะพะผ
- [ ] **ะะพัะพะถะธะน ะฝะตัะตััะฝะฝัะน ะบะตะนั** โ AI ะฝะฐัะพะดะธั ััะพ ัะฐะบะฐั ะถะต ะทะฐัะฒะบะฐ ัะถะต ะฒ ัะฐะฑะพัะต

**Backend:**
- [ ] `AiNotificationService` โ ัะพะฝะพะฒัะน ะฐะฝะฐะปะธะท ะฝะพะฒัั ะทะฐัะฒะพะบ
- [ ] Cron job (ะบะฐะถะดัะต 5 ะผะธะฝ) โ ะฐะฝะฐะปะธะท ะฝะพะฒัั ะทะฐัะฒะพะบ โ ะณะตะฝะตัะฐัะธั ัะฒะตะดะพะผะปะตะฝะธะน
- [ ] WebSocket `ai:notification` โ ะฟัั ะฝะฐ ััะพะฝั
- [ ] ะขะฐะฑะปะธัะฐ `ai_notifications` โ ััะฐะฝะตะฝะธะต ะธ ัะฟัะฐะฒะปะตะฝะธะต (ะฟัะพัะธัะฐะฝะพ/ะพัะบะปะพะฝะตะฝะพ)

**ะัะตะฝะบะฐ:** ~4-5 ะดะฝะตะน

---

### ะคะฐะทะฐ 4: ะะพะฝัะตะบััะฝะพะต ะพะฑะพะณะฐัะตะฝะธะต ะดะฐะฝะฝัั
**ะฆะตะปั:** ะะฒัะพะผะฐัะธัะตัะบะธ ะฟะพะดััะณะธะฒะฐัั ัะฒัะทะฐะฝะฝัั ะธะฝัะพัะผะฐัะธั ะธะท legacy ะธ ะฒะฝะตัะฝะธั ัะธััะตะผ.

#### 4.1 ะะฐััะพัะบะฐ ะบะปะธะตะฝัะฐ ั AI-ะฐะฝะฐะปะธัะธะบะพะน
ะัะธ ะพัะบัััะธะธ ะทะฐัะฒะบะธ, ะตัะปะธ ะพะฟัะตะดะตะปัะฝ ะบะปะธะตะฝั:
```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ ๐ค ะะปะธะตะฝั: ะะะ "ะะตัะฐะปะปะกััะพะน"    โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ ๐ ะกัะฐัะธััะธะบะฐ:                   โ
โ โข 47 ะทะฐัะฒะพะบ ะทะฐ ะฒัั ะฒัะตะผั        โ
โ โข 12 ะทะฐ ะฟะพัะปะตะดะฝะธะน ะผะตััั (โ 300%)โ
โ โข ะกั. ะฒัะตะผั ัะตัะตะฝะธั: 4.2ั      โ
โ โข ะัะฝะพะฒะฝะฐั ัะตะผะฐ: ัะตัะฒะพะดะฒะธะณะฐัะตะปะธ โ
โ                                  โ
โ ๐ ะะพัะปะตะดะฝะธะต ัะดะตะปะบะธ:            โ
โ โข ะะพััะฐะฒะบะฐ CNC-2000 (2.5M โฝ)   โ
โ โข ะะฑัะปัะถะธะฒะฐะฝะธะต ะปะธะฝะธะธ (180K โฝ/ะผ) โ
โ                                  โ
โ โ๏ธ AI: ะััะพะบะฐั ะฐะบัะธะฒะฝะพััั,      โ
โ    ะฒะพะทะผะพะถะฝะพ ัะธััะตะผะฝะฐั ะฟัะพะฑะปะตะผะฐ   โ
โ    ั ะพะฑะพััะดะพะฒะฐะฝะธะตะผ               โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

**ะงัะพ ะดะตะปะฐะตะผ:**
- [ ] ะะฐััะธัะธัั `getAssistance()` โ ะดะพะฑะฐะฒะธัั ะฐะฝะฐะปะธัะธะบั ะฟะพ ะบะปะธะตะฝัั
- [ ] ะะพะผะฟะพะฝะตะฝั `CustomerInsightsCard` โ ะฒ ัะฐะนะดะฑะฐัะต ะธะปะธ ัะฐััะธัะตะฝะฝะพะผ AI ัะฐะฑะต
- [ ] ะขัะตะฝะดั ะทะฐัะฒะพะบ (ัะพัั/ะฟะฐะดะตะฝะธะต ะทะฐ ะฟะตัะธะพะด)
- [ ] ะกะฒัะทะบะฐ ั legacy ัะดะตะปะบะฐะผะธ ะธ ัะพะฒะฐัะฐะผะธ

#### 4.2 ะัะฐั ะทะฝะฐะฝะธะน (Knowledge Graph)
ะะธะทัะฐะปัะฝะฐั ัะฒัะทั ะผะตะถะดั ะทะฐัะฒะบะฐะผะธ, ะบะปะธะตะฝัะฐะผะธ, ะพะฑะพััะดะพะฒะฐะฝะธะตะผ:
- [ ] Endpoint `GET /api/ai/knowledge-graph?entityId=...`
- [ ] ะะพะผะฟะพะฝะตะฝั ั ะฒะธะทัะฐะปะธะทะฐัะธะตะน ัะฒัะทะตะน (ะผะพะถะฝะพ ะฝะฐ ะฑะฐะทะต react-flow)
- [ ] ะะปะธะบะฐะฑะตะปัะฝัะต ัะทะปั โ ะฟะตัะตัะพะด ะบ ัะฒัะทะฐะฝะฝัะผ ะทะฐัะฒะบะฐะผ

**ะัะตะฝะบะฐ:** ~5-6 ะดะฝะตะน

---

### ะคะฐะทะฐ 5: AI-ะฐะฒัะพะผะฐัะธะทะฐัะธั ัะตัะตะท BPMN
**ะฆะตะปั:** ะะฝัะตะณัะฐัะธั AI ะฒ ะฑะธะทะฝะตั-ะฟัะพัะตััั.

#### 5.1 AI Worker ะดะปั BPMN
ะะพะฒัะน Zeebe worker `ai-classify` ะธ `ai-suggest`:
- [ ] Worker `ai-classify` โ ะฐะฒัะพะบะปะฐััะธัะธะบะฐัะธั ะฒ ะฟัะพัะตััะต
- [ ] Worker `ai-suggest-assignee` โ ะฐะฒัะพะฝะฐะทะฝะฐัะตะฝะธะต ะฝะฐ ะพัะฝะพะฒะต AI
- [ ] Worker `ai-check-duplicate` โ ะฟัะพะฒะตัะบะฐ ะดัะฑะปะธะบะฐัะพะฒ ะฟะตัะตะด ัะพะทะดะฐะฝะธะตะผ

#### 5.2 AI-ัะฟัะฐะฒะปัะตะผะฐั ะผะฐัััััะธะทะฐัะธั
- [ ] DMN ัะฐะฑะปะธัะฐ + AI ะบะปะฐััะธัะธะบะฐัะธั โ ะฐะฒัะพะผะฐัะธัะตัะบะพะต ัะฐัะฟัะตะดะตะปะตะฝะธะต ะทะฐัะฒะพะบ
- [ ] BPMN ัะฐะฑะปะพะฝ "ะฃะผะฝะฐั ะผะฐัััััะธะทะฐัะธั": entity created โ AI classify โ DMN route โ assign

#### 5.3 AI User Task ะฟะพะดัะบะฐะทะบะธ
ะะพะณะดะฐ ัะพัััะดะฝะธะบ ะฟะพะปััะฐะตั user task ะฒ inbox:
- [ ] ะ ัะพัะผะต user task ะฟะพะบะฐะทะฐัั AI ะบะพะฝัะตะบัั
- [ ] ะัะตะดะทะฐะฟะพะปะฝะตะฝะธะต ะฟะพะปะตะน ัะพัะผั ะฝะฐ ะพัะฝะพะฒะต AI

**ะัะตะฝะบะฐ:** ~4-5 ะดะฝะตะน

---

## ะัะธะพัะธัะธะทะฐัะธั

| ะคะฐะทะฐ | ะฆะตะฝะฝะพััั | ะกะปะพะถะฝะพััั | ะะฐะฒะธัะธะผะพััะธ | ะัะธะพัะธัะตั |
|------|----------|-----------|-------------|-----------|
| **1. ะฃะผะฝัะน ัะฐะนะดะฑะฐั** | ๐ฅ ะััะพะบะฐั | ะกัะตะดะฝัั | Backend ะณะพัะพะฒ | **P0 โ ะดะตะปะฐัั ะฟะตัะฒัะผ** |
| **2. AI ะฒ ัะตะดะฐะบัะพัะต** | ๐ฅ ะััะพะบะฐั | ะะธะทะบะฐั | ะคะฐะทะฐ 1 | **P0 โ ะดะตะปะฐัั ะฒัะพััะผ** |
| **3. ะฃะฒะตะดะพะผะปะตะฝะธั** | ะกัะตะดะฝัั | ะกัะตะดะฝัั | ะคะฐะทะฐ 1 | P1 |
| **4. ะะพะฝัะตะบัั ะบะปะธะตะฝัะฐ** | ะกัะตะดะฝัั | ะกัะตะดะฝัั | ะคะฐะทะฐ 1 | P1 |
| **5. BPMN ะธะฝัะตะณัะฐัะธั** | ะััะพะบะฐั | ะััะพะบะฐั | ะคะฐะทั 1-2 | P2 |

---

## ะขะตัะฝะธัะตัะบะธะต ัะตัะตะฝะธั

### Zustand Store (`useAiStore`)
```typescript
interface AiState {
  // ะะพะดัะบะฐะทะบะธ ะดะปั ัะตะบััะตะน ะทะฐัะฒะบะธ
  insights: Record<string, AiInsights>; // entityId โ insights
  insightsLoading: Record<string, boolean>;

  // ะะปะฐััะธัะธะบะฐัะธั
  classifications: Record<string, Classification>;
  classificationLoading: Record<string, boolean>;

  // ะะตะฝะตัะฐัะธั ะพัะฒะตัะพะฒ
  suggestedResponse: string | null;
  responseLoading: boolean;

  // ะฃะฒะตะดะพะผะปะตะฝะธั
  notifications: AiNotification[];
  unreadCount: number;

  // ะะฐัััะพะนะบะธ ะฟะพะปัะทะพะฒะฐัะตะปั
  aiEnabled: boolean; // ะฟะพะปัะทะพะฒะฐัะตะปั ะผะพะถะตั ะพัะบะปััะธัั ะฟะพะดัะบะฐะทะบะธ
  autoClassify: boolean;

  // Actions
  fetchInsights(entityId: string): Promise<void>;
  fetchClassification(entityId: string): Promise<void>;
  generateResponse(entityId: string, context?: string): Promise<void>;
  applyClassification(entityId: string): Promise<void>;
  assignSuggestedExpert(entityId: string, userId: string): Promise<void>;
  dismissNotification(id: string): void;
  toggleAi(): void;
}
```

### ะััะธัะพะฒะฐะฝะธะต
- Frontend: `insights` ะบััะธัััััั ะฒ store ะฟะพ `entityId`, ะธะฝะฒะฐะปะธะดะฐัะธั ัะตัะตะท 5 ะผะธะฝ ะธะปะธ WebSocket
- Backend: Redis/in-memory ะบัั ะดะปั `getAssistance()` ัะตะทัะปััะฐัะพะฒ
- Embeddings: ัะถะต ะทะฐะบััะธัะพะฒะฐะฝั ะฒ pgvector

### ะัะพะธะทะฒะพะดะธัะตะปัะฝะพััั
- `getAssistance()` ะฒัะทัะฒะฐะตััั **ะฟะพัะปะต** ะพัะฝะพะฒะฝัั ะดะฐะฝะฝัั (ะฝะต ะฑะปะพะบะธััะตั)
- ะัะฟะพะปัะทัะตะผ Groq (500 tokens/sec) ะดะปั ะฑััััะพะณะพ inference
- Skeleton loaders ะฟะพะบะฐ AI ะดัะผะฐะตั
- ะะตะทัะปััะฐัั ะฟะพะดะณััะถะฐัััั ะฟะฐัะฐะปะปะตะปัะฝะพ ะธ ะฟะพัะฒะปััััั ะฟะพ ะผะตัะต ะณะพัะพะฒะฝะพััะธ

### WebSocket ัะพะฑััะธั (ะฝะพะฒัะต)
```
ai:classification:ready    โ ะบะปะฐััะธัะธะบะฐัะธั ะทะฐะฒะตััะตะฝะฐ
ai:insights:ready         โ ะฟะพะดัะบะฐะทะบะธ ะณะพัะพะฒั
ai:notification           โ ะฝะพะฒะพะต AI ัะฒะตะดะพะผะปะตะฝะธะต
ai:response:generated     โ ะพัะฒะตั ัะณะตะฝะตัะธัะพะฒะฐะฝ
```

---

## ะะตััะธะบะธ ััะฟะตัะฐ

1. **Adoption** โ % ัะพัััะดะฝะธะบะพะฒ, ะธัะฟะพะปัะทัััะธั AI ะฟะพะดัะบะฐะทะบะธ (ัะตะปั: >60%)
2. **Click-through** โ % ะบะปะธะบะพะฒ ะฝะฐ ะฟะพะดัะบะฐะทะบะธ (ัะตะปั: >30%)
3. **Resolution time** โ ัะฝะธะถะตะฝะธะต ะฒัะตะผะตะฝะธ ัะตัะตะฝะธั ะทะฐัะฒะพะบ (ัะตะปั: -20%)
4. **First response time** โ ัะฝะธะถะตะฝะธะต ะฒัะตะผะตะฝะธ ะฟะตัะฒะพะณะพ ะพัะฒะตัะฐ (ัะตะปั: -30%)
5. **Template usage** โ % ะพัะฒะตัะพะฒ ั AI-ัะฐะฑะปะพะฝะพะผ (ัะตะปั: >25%)

---

## ะัะตะฝะบะฐ ััะพะบะพะฒ

| ะคะฐะทะฐ | ะกัะพะบ |
|------|------|
| ะคะฐะทะฐ 1: ะฃะผะฝัะน ัะฐะนะดะฑะฐั | 3-4 ะดะฝั |
| ะคะฐะทะฐ 2: AI ะฒ ัะตะดะฐะบัะพัะต | 3-4 ะดะฝั |
| ะคะฐะทะฐ 3: ะฃะฒะตะดะพะผะปะตะฝะธั | 4-5 ะดะฝะตะน |
| ะคะฐะทะฐ 4: ะะพะฝัะตะบัั ะบะปะธะตะฝัะฐ | 5-6 ะดะฝะตะน |
| ะคะฐะทะฐ 5: BPMN ะธะฝัะตะณัะฐัะธั | 4-5 ะดะฝะตะน |
| **ะัะพะณะพ** | **~20-24 ะดะฝั** |

> ะคะฐะทั 1 ะธ 2 โ MVP ะทะฐ ~7 ะดะฝะตะน, ะดะฐััะธะน ะพัะฝะพะฒะฝัั ัะตะฝะฝะพััั.

---

## ะะฐะฒะธัะธะผะพััะธ ะธ ัะธัะบะธ

### ะะฐะฒะธัะธะผะพััะธ
- โ Legacy ะผะธะณัะฐัะธั ะทะฐะฒะตััะตะฝะฐ โ ะดะฐะฝะฝัะต ะตััั
- โ RAG ะธะฝะดะตะบัะฐัะธั โ ัะฐะฑะพัะฐะตั
- โ๏ธ Groq API โ ะฑะตัะฟะปะฐัะฝัะน tier, ะปะธะผะธัั ะฟัะธ ะฑะพะปััะพะน ะฝะฐะณััะทะบะต
- โ๏ธ ะะฐัะตััะฒะพ embeddings โ ะทะฐะฒะธัะธั ะพั ะผะพะดะตะปะธ (ัะตะนัะฐั nomic-embed-text)

### ะะธัะบะธ
- **ะะฐัะตััะฒะพ ะฟะพะดัะบะฐะทะพะบ** โ ะตัะปะธ similarity ะฝะธะทะบะธะน, ะฟะพะดัะบะฐะทะบะธ ะฑัะดัั ะฝะตัะตะปะตะฒะฐะฝัะฝั
  - ะะธัะธะณะฐัะธั: ะฟะพัะพะณ minSimilarity=0.75, ะฝะต ะฟะพะบะฐะทัะฒะฐัั ะตัะปะธ ะฝะธะถะต
- **ะกะบะพัะพััั** โ RAG + LLM ะผะพะถะตั ะทะฐะฝััั 2-5 ัะตะบ
  - ะะธัะธะณะฐัะธั: skeleton loading, parallel fetch, ะบััะธัะพะฒะฐะฝะธะต
- **ะกัะพะธะผะพััั** โ ะฟัะธ ะฟะตัะตัะพะดะต ะฝะฐ OpenAI embeddings
  - ะะธัะธะณะฐัะธั: Groq ะดะปั inference (ะฑะตัะฟะปะฐัะฝะพ), Ollama ะดะปั embeddings
- **Privacy** โ ะดะฐะฝะฝัะต ะบะปะธะตะฝัะพะฒ ะฒ ะฟัะพะผะฟัะฐั
  - ะะธัะธะณะฐัะธั: Ollama (ะปะพะบะฐะปัะฝะพ) ะธะปะธ enterprise Groq/OpenAI
